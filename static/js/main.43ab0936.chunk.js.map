{"version":3,"sources":["hooks/useLocalStorage.js","hooks/useFetch.js","components/Loading/Loading.js","components/ErrorBoundary/ErrorBoundary.js","components/TagList/TagList.js","contexts/currentUser.js","pages/Article/Article.js","components/AddToFavorites/AddToFavorites.js","components/Feed/Feed.js","utils/utils.js","components/Pagination/Pagination.js","components/PopularTags/PopularTags.js","components/FeedToggler/FeedToggler.js","pages/GlobalFeed/GlobalFeed.js","pages/TagFeed/TagFeed.js","pages/YourFeed/YourFeed.js","components/BackendErrorMessages/BackendErrorMessages.js","pages/Auth/Auth.js","pages/Settings/Settings.js","components/UserArticles/UserArticles.js","pages/UserProfile/UserProfile.js","components/ArticleForm/ArticleForm.js","pages/CreateArticle/CreateArticle.js","pages/EditArticle/EditArticle.js","Routes/Routes.js","components/TopBar/TopBar.js","components/CurrentUserChecker/CurrentUserChecker.js","index.js"],"names":["useLocalStorage","key","initialValue","useState","localStorage","getItem","value","setValue","useEffect","setItem","useFetch","url","isLoading","setIsLoading","response","setResponse","error","setError","options","setOptions","token","doFetch","useCallback","skipGetRespAfterDestroy","requestOptions","headers","authorization","axios","then","res","data","catch","Loading","ErrorBoundary","TagList","tags","className","map","tag","initialState","isLoggedIn","currentUser","reducer","state","action","type","payload","CurrentUserContext","createContext","CurrentUserProvider","children","useReducer","Provider","Article","props","slug","match","params","apiUrl","fetchArticleResponse","fetchArticleIsLoading","fetchArticleError","deleteArticleResponse","doDeleteArticle","useContext","currentUserState","isSuccessDelete","setIsSuccessDelete","to","article","title","author","username","src","image","alt","createdAt","onClick","method","body","tagList","AddToFavorites","isFavorited","favoritesCount","articleSlug","favoritesCountWithResponse","isFavoritedWithResponse","favorited","likeClasses","classNames","btn","event","preventDefault","Feed","articles","index","description","limit","getPaginator","search","parsedSearch","parse","currentPage","page","Number","offset","PaginationItem","liClasses","Pagination","start","end","total","pagesCount","Math","ceil","pages","Array","keys","el","PopularTags","FeedToggler","tagName","exact","GlobalFeed","location","stringifiedParams","stringify","articlesCount","TagFeed","YourFeed","BackendErrorMessages","backendErrors","errorMessages","Object","name","messages","join","errorMessage","Auth","isLogin","path","pageTitle","descriptionLink","descriptionText","email","setEmail","password","setPassword","setUsername","isSuccessSubmit","setIsSuccessSubmit","setToken","dispatch","user","onSubmit","errors","placeholder","onChange","e","target","disabled","Settings","setImage","bio","setBio","isSuccessLogout","setIsSuccessLogout","rows","UserArticles","isFavorites","getApiUrl","console","log","UserProfile","pathname","includes","profile","ArticleForm","initialValues","setTitle","setDescription","setBody","setTagList","CreateArticle","EditArticle","doFetchArticle","updateArticleResponse","updateArticleError","doUpdateArticle","setInitialValues","Routes","component","TopBar","CurrentUserChecker","App","ReactDOM","render","document","getElementById"],"mappings":"8NAceA,EAZS,SAACC,GAA4B,IAAvBC,EAAsB,uDAAP,GAAO,EACxBC,oBAAS,WACjC,OAAOC,aAAaC,QAAQJ,IAAQC,KAFY,mBAC3CI,EAD2C,KACpCC,EADoC,KASlD,OAJAC,qBAAU,WACRJ,aAAaK,QAAQR,EAAKK,KACzB,CAACA,EAAOL,IAEJ,CAACK,EAAOC,IC2CFG,EAjDE,SAAAC,GACf,IADsB,EAEYR,oBAAS,GAFrB,mBAEfS,EAFe,KAEJC,EAFI,OAGUV,mBAAS,MAHnB,mBAGfW,EAHe,KAGLC,EAHK,OAIIZ,mBAAS,MAJb,mBAIfa,EAJe,KAIRC,EAJQ,OAKQd,mBAAS,IALjB,mBAKfe,EALe,KAKNC,EALM,OAMNnB,EAAgB,SAAzBoB,EANe,oBAQhBC,EAAUC,uBAAY,WAAmB,IAAlBJ,EAAiB,uDAAP,GACrCC,EAAWD,GACXL,GAAa,KACZ,IAmCH,OAjCAL,qBAAU,WACR,IAAIe,GAA0B,EACxBC,EAAc,2BACfN,GACA,CACDO,QAAS,CACPC,cAAeN,EAAK,gBAAYA,GAAU,MAKhD,GAAKR,EAiBL,OAdAe,IAAM,GAAD,OA1BS,0CA0BT,OAAchB,GAAOa,GACzBI,MAAK,SAAAC,GACCN,IACHV,GAAa,GACbE,EAAYc,EAAIC,UAGnBC,OAAM,SAAAf,GACAO,IACHV,GAAa,GACbI,EAASD,EAAMF,SAASgB,UAIrB,WACLP,GAA0B,KAE3B,CAACX,EAAWM,EAASP,EAAKS,IAEtB,CAAC,CAAER,YAAWE,WAAUE,SAASK,IC3C3BW,EAPC,WAEd,OACE,uFCIWC,EAPO,WAEpB,OACE,qICSWC,EAZC,SAAC,GAAc,IAAZC,EAAW,EAAXA,KACjB,OACE,oBAAIC,UAAU,WAAd,SACGD,EAAKE,KAAI,SAAAC,GAAG,OACX,oBAAcF,UAAU,mCAAxB,SACGE,GADMA,SCHXC,EAAe,CACnB3B,WAAW,EACX4B,WAAY,KACZC,YAAa,MAGTC,EAAU,SAACC,EAAOC,GACtB,OAAQA,EAAOC,MACb,IAAK,UACH,OAAO,2BACFF,GADL,IAEE/B,WAAW,IAEf,IAAK,iBACH,OAAO,2BACF+B,GADL,IAEEH,YAAY,EACZC,YAAaG,EAAOE,QACpBlC,WAAW,IAEf,IAAK,mBACH,OAAO,2BACF+B,GADL,IAEEH,YAAY,IAEhB,IAAK,SACH,OAAO,2BACFD,GADL,IAEEC,YAAY,IAEhB,QACE,OAAOG,IAIAI,EAAqBC,0BAErBC,EAAsB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SAC9B5C,EAAQ6C,qBAAWT,EAASH,GAElC,OACE,cAACQ,EAAmBK,SAApB,CAA6B9C,MAAOA,EAApC,SACG4C,KC8DQG,EAjGC,SAAAC,GACd,IAAMC,EAAOD,EAAME,MAAMC,OAAOF,KAC1BG,EAAM,oBAAgBH,GAFL,EAIoD7C,EAASgD,GAJ7D,0BAGJC,EAHI,EAGd7C,SACI8C,EAJU,EAIrBhD,UAAyCiD,EAJpB,EAIa7C,MAA4BK,EAJzC,OAKwCX,EAASgD,GALjD,mBAKJI,EALI,KAKdhD,SAAmCiD,EALrB,OAMIC,qBAAWjB,GAA/BkB,EANgB,sBAOuB9D,oBAAS,GAPhC,mBAOhB+D,EAPgB,KAOCC,EAPD,KAmBvB3D,qBAAU,WACRa,MACC,CAACA,IAgBJ,OARAb,qBAAU,WACHsD,GAILK,GAAmB,KAClB,CAACL,IAEAI,EACK,cAAC,IAAD,CAAUE,GAAG,MAIpB,sBAAKhC,UAAU,eAAf,UACE,qBAAKA,UAAU,SAAf,UACIwB,GAAyBD,GACzB,sBAAKvB,UAAU,YAAf,UACE,6BAAKuB,EAAqBU,QAAQC,QAClC,sBAAKlC,UAAU,eAAf,UACE,cAAC,IAAD,CAAMgC,GAAE,oBAAeT,EAAqBU,QAAQE,OAAOC,UAA3D,SACE,qBAAKC,IAAKd,EAAqBU,QAAQE,OAAOG,MAAOC,IAAI,OAE3D,sBAAKvC,UAAU,OAAf,UACE,cAAC,IAAD,CAAMgC,GAAE,oBAAeT,EAAqBU,QAAQE,OAAOC,UAA3D,SACGb,EAAqBU,QAAQE,OAAOC,WAEvC,sBAAMpC,UAAU,OAAhB,SAAwBuB,EAAqBU,QAAQO,kBA7C5DjB,IAAyBM,EAAiBzB,aAK7CmB,EAAqBU,QAAQE,OAAOC,WAAaP,EAAiBxB,YAAY+B,UA2CpE,iCACE,eAAC,IAAD,CACEpC,UAAU,mCACVgC,GAAE,oBAAeT,EAAqBU,QAAQd,KAA5C,SAFJ,UAIE,mBAAGnB,UAAU,aAJf,kBAOA,yBACEA,UAAU,gCACVyC,QA7CW,WAC3Bd,EAAgB,CACde,OAAQ,YAyCI,UAIE,mBAAG1C,UAAU,gBAJf,+BAaZ,sBAAKA,UAAU,iBAAf,UACGwB,GAAyB,cAAC,EAAD,IACzBC,GAAqB,cAAC,EAAD,KACpBD,GAAyBD,GACzB,qBAAKvB,UAAU,sBAAf,SACE,sBAAKA,UAAU,YAAf,UACE,8BACE,4BAAIuB,EAAqBU,QAAQU,SAEnC,cAAC,EAAD,CAAS5C,KAAMwB,EAAqBU,QAAQW,sB,yBC/D3CC,EA9BQ,SAAC,GAAkD,IAAhDC,EAA+C,EAA/CA,YAAaC,EAAkC,EAAlCA,eAAgBC,EAAkB,EAAlBA,YAC/C1B,EAAM,oBAAgB0B,EAAhB,aAD2D,EAEvC1E,EAASgD,GAF8B,mBAE9D5C,EAF8D,KAE9DA,SAAYO,EAFkD,KAGjEgE,EAA6BvE,EAAWA,EAASuD,QAAQc,eAAiBA,EAC1EG,EAA0BxE,EAAWA,EAASuD,QAAQkB,UAAYL,EAClEM,EAAcC,IAAW,CAC7BC,KAAK,EACL,UAAU,EACV,cAAeJ,EACf,uBAAwBA,IAU1B,OACE,yBACElD,UAAWoD,EACXX,QAVe,SAAAc,GACjBA,EAAMC,iBACNvE,EAAQ,CACNyD,OAAQQ,EAA0B,SAAW,UAK/C,UAIE,mBAAGlD,UAAU,cACb,yCAAciD,SCmBLQ,EA3CF,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACd,OACE,8BACGA,EAASzD,KAAI,SAACgC,EAAS0B,GACtB,OACE,sBAAK3D,UAAU,kBAAf,UACE,sBAAKA,UAAU,eAAf,UACE,cAAC,IAAD,CAAMgC,GAAE,oBAAeC,EAAQE,OAAOC,UAAtC,SACE,qBAAKC,IAAKJ,EAAQE,OAAOG,MAAOC,IAAI,OAEtC,sBAAKvC,UAAU,OAAf,UACE,cAAC,IAAD,CAAMA,UAAU,SACdgC,GAAE,oBAAeC,EAAQE,OAAOC,UADlC,SAGGH,EAAQE,OAAOC,WAElB,sBAAMpC,UAAU,OAAhB,SAAwBiC,EAAQO,eAGlC,qBAAKxC,UAAU,gBAAf,SACE,cAAC,EAAD,CACE8C,YAAab,EAAQkB,UACrBJ,eAAgBd,EAAQc,eACxBC,YAAaf,EAAQd,YAK3B,eAAC,IAAD,CAAMnB,UAAU,eACdgC,GAAE,oBAAeC,EAAQd,MAD3B,UAGE,6BAAKc,EAAQC,QACb,4BAAID,EAAQ2B,cACZ,gDACA,cAAC,EAAD,CAAS7D,KAAMkC,EAAQW,eA7BWe,S,QCJnCE,EAAQ,GAERC,EAAe,SAAAC,GAC1B,IAAMC,EAAeC,gBAAMF,GACrBG,EAAcF,EAAaG,KAC7BC,OAAOJ,EAAaG,MACpB,EAGJ,MAAO,CACLD,cACAG,OAJaH,EAAcL,EAAQA,ICRjCS,EAAiB,SAAC,GAAgC,IAA9BH,EAA6B,EAA7BA,KAAMD,EAAuB,EAAvBA,YAAa3F,EAAU,EAAVA,IACrCgG,EAAYlB,IAAW,CAC3B,aAAa,EACb,OAAUa,IAAgBC,IAG5B,OACE,oBAAInE,UAAWuE,EAAf,SACE,cAAC,IAAD,CACEvE,UAAU,YACVgC,GAAE,UAAKzD,EAAL,iBAAiB4F,GAFrB,SAIGA,OAwBMK,EAlBI,SAAC,GAAwC,IDrBtCC,EAAOC,ECqBPC,EAAqC,EAArCA,MAAOd,EAA8B,EAA9BA,MAAOtF,EAAuB,EAAvBA,IAAK2F,EAAkB,EAAlBA,YACjCU,EAAaC,KAAKC,KAAKH,EAAMd,GAC7BkB,GDvBcN,ECuBA,EDvBOC,ECuBJE,EDtBhB,YAAII,MAAMN,GAAKO,QAAQhF,KAAK,SAAAiF,GAAE,OAAIA,EAAKT,MCwB9C,OACE,oBAAIzE,UAAU,aAAd,SACG+E,EAAM9E,KAAI,SAAAkE,GAAI,OACb,cAAC,EAAD,CAEEA,KAAMA,EACND,YAAaA,EACb3F,IAAKA,GAHA4F,SCQAgB,EAhCK,WAAO,IAAD,EAC0B7G,EAAS,SADnC,0BACfI,EADe,EACfA,SAAUF,EADK,EACLA,UAAWI,EADN,EACMA,MAASK,EADf,KAOxB,OAJAb,qBAAU,WACRa,MACC,CAACA,IAEAT,IAAcE,EACT,cAAC,EAAD,IAGLE,EACK,cAAC,EAAD,IAIP,sBAAKoB,UAAU,UAAf,UACE,sHACA,qBAAKA,UAAU,WAAf,SACItB,EAASqB,KAAKE,KAAI,SAAAC,GAAG,OACrB,cAAC,IAAD,CAAMF,UAAU,uBAEdgC,GAAE,gBAAW9B,GAFf,SAIGA,GAHIA,YCIFkF,EA3BK,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QAAc,EACRzD,qBAAWjB,GAA/BkB,EAD4B,oBAGnC,OACA,qBAAK7B,UAAU,cAAf,SACE,qBAAIA,UAAU,+BAAd,UACI6B,EAAiBzB,YACjB,oBAAIJ,UAAU,WAAd,SACE,cAAC,IAAD,CAASgC,GAAG,QAAQhC,UAAU,WAA9B,yBAGJ,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAASgC,GAAG,IAAIsD,OAAK,EAACtF,UAAU,WAAhC,2BAEAqF,GACA,oBAAIrF,UAAU,WAAd,SACE,eAAC,IAAD,CAASgC,GAAE,gBAAWqD,GAAWrF,UAAU,WAA3C,UACE,mBAAGA,UAAU,cACZqF,aCuCEE,EAlDI,SAAC,GAAyB,IAAvBC,EAAsB,EAAtBA,SAAUpE,EAAY,EAAZA,MAAY,EACV0C,EAAa0B,EAASzB,QAA9CG,EADkC,EAClCA,YAAaG,EADqB,EACrBA,OACfoB,EAAoBC,oBAAU,CAClC7B,QACAQ,WAEI/C,EAAM,oBAAgBmE,GANc,EAOQnH,EAASgD,GAPjB,0BAOjC5C,EAPiC,EAOjCA,SAAUF,EAPuB,EAOvBA,UAAWI,EAPY,EAOZA,MAASK,EAPG,KAQpCV,EAAM6C,EAAM7C,IAMlB,OAJAH,qBAAU,WACRa,MACC,CAACA,EAASiF,IAGX,sBAAKlE,UAAU,YAAf,UACE,qBAAKA,UAAU,SAAf,SACE,sBAAKA,UAAU,YAAf,UACE,+CACA,gEAGJ,qBAAKA,UAAU,iBAAf,SACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,UACE,cAAC,EAAD,IAECxB,GAAa,cAAC,EAAD,IACbI,GAAS,cAAC,EAAD,KACRJ,GAAaE,GACb,qCACE,cAAC,EAAD,CAAMgF,SAAUhF,EAASgF,WACzB,cAAC,EAAD,CACEiB,MAAOjG,EAASiH,cAChB9B,MAAOA,EACPtF,IAAKA,EACL2F,YAAaA,UAKrB,qBAAKlE,UAAU,WAAf,SACE,cAAC,EAAD,eCUG4F,EApDC,SAAC,GAAyB,IAAvBJ,EAAsB,EAAtBA,SAAUpE,EAAY,EAAZA,MACrBiE,EAAUjE,EAAMC,OAAOF,KADU,EAEP2C,EAAa0B,EAASzB,QAA9CG,EAF+B,EAE/BA,YAAaG,EAFkB,EAElBA,OACfoB,EAAoBC,oBAAU,CAClC7B,QACAQ,SACAnE,IAAKmF,IAED/D,EAAM,oBAAgBmE,GARW,EASWnH,EAASgD,GATpB,0BAS9B5C,EAT8B,EAS9BA,SAAUF,EAToB,EASpBA,UAAWI,EATS,EASTA,MAASK,EATA,KAUjCV,EAAM6C,EAAM7C,IAMlB,OAJAH,qBAAU,WACRa,MACC,CAACA,EAASiF,EAAamB,IAGxB,sBAAKrF,UAAU,YAAf,UACE,qBAAKA,UAAU,SAAf,SACE,sBAAKA,UAAU,YAAf,UACE,8CACA,gEAGJ,qBAAKA,UAAU,iBAAf,SACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,UACE,cAAC,EAAD,CAAaqF,QAASA,IAErB7G,GAAa,cAAC,EAAD,IACbI,GAAS,cAAC,EAAD,KACRJ,GAAaE,GACb,qCACE,cAAC,EAAD,CAAMgF,SAAUhF,EAASgF,WACzB,cAAC,EAAD,CACEiB,MAAOjG,EAASiH,cAChB9B,MAAOA,EACPtF,IAAKA,EACL2F,YAAaA,UAKrB,qBAAKlE,UAAU,WAAf,SACE,cAAC,EAAD,eCMG6F,EAlDE,SAAC,GAAyB,IAAvBL,EAAsB,EAAtBA,SAAUpE,EAAY,EAAZA,MAAY,EACR0C,EAAa0B,EAASzB,QAA9CG,EADgC,EAChCA,YAAaG,EADmB,EACnBA,OACfoB,EAAoBC,oBAAU,CAClC7B,QACAQ,WAEI/C,EAAM,yBAAqBmE,GANO,EAOUnH,EAASgD,GAPnB,0BAO/B5C,EAP+B,EAO/BA,SAAUF,EAPqB,EAOrBA,UAAWI,EAPU,EAOVA,MAASK,EAPC,KAQlCV,EAAM6C,EAAM7C,IAMlB,OAJAH,qBAAU,WACRa,MACC,CAACA,EAASiF,IAGX,sBAAKlE,UAAU,YAAf,UACE,qBAAKA,UAAU,SAAf,SACE,sBAAKA,UAAU,YAAf,UACE,8CACA,gEAGJ,qBAAKA,UAAU,iBAAf,SACE,sBAAKA,UAAU,MAAf,UACE,sBAAKA,UAAU,WAAf,UACE,cAAC,EAAD,IAECxB,GAAa,cAAC,EAAD,IACbI,GAAS,cAAC,EAAD,KACRJ,GAAaE,GACb,qCACE,cAAC,EAAD,CAAMgF,SAAUhF,EAASgF,WACzB,cAAC,EAAD,CACEiB,MAAOjG,EAASiH,cAChB9B,MAAOA,EACPtF,IAAKA,EACL2F,YAAaA,UAKrB,qBAAKlE,UAAU,WAAf,SACE,cAAC,EAAD,eCzCG8F,EAbc,SAAC,GAAuB,IAArBC,EAAoB,EAApBA,cACxBC,EAAgBC,OAAOhB,KAAKc,GAAe9F,KAAI,SAAAiG,GACnD,IAAMC,EAAWJ,EAAcG,GAAME,KAAK,KAC1C,MAAM,GAAN,OAAUF,EAAV,YAAkBC,MAGpB,OACE,oBAAInG,UAAU,iBAAd,SACGgG,EAAc/F,KAAI,SAAAoG,GAAY,OAAI,6BAAwBA,GAAfA,SCoGnCC,EApGF,SAAApF,GACX,IAAMqF,EAA+B,WAArBrF,EAAME,MAAMoF,KACtBC,EAAYF,EAAU,UAAY,UAClCG,EAAkBH,EAAU,YAAc,SAC1CI,EAAkBJ,EAAU,mBAAqB,mBACjDjF,EAASiF,EAAU,eAAiB,SALtB,EAOMxI,mBAAS,IAPf,mBAOb6I,EAPa,KAONC,EAPM,OAQY9I,mBAAS,IARrB,mBAQb+I,EARa,KAQHC,EARG,OASYhJ,mBAAS,IATrB,mBASbqE,EATa,KASH4E,EATG,OAU0BjJ,oBAAS,GAVnC,mBAUbkJ,EAVa,KAUIC,EAVJ,OAW8B5I,EAASgD,GAXvC,0BAWX9C,EAXW,EAWXA,UAAWE,EAXA,EAWAA,SAAUE,EAXV,EAWUA,MAASK,EAXnB,OAYCrB,EAAgB,SAA5BuJ,EAZW,sBAaCvF,qBAAWjB,GAAvByG,EAbW,oBAepBhJ,qBAAU,WACHM,IAGLyI,EAASzI,EAAS2I,KAAKrI,OACvBkI,GAAmB,GAEnBE,EAAS,CACP3G,KAAM,iBACNC,QAAShC,EAAS2I,UAEnB,CAAC3I,EAAUyI,EAAUC,EAAUnI,IAgBlC,OAAIgI,EACK,cAAC,IAAD,CAAUjF,GAAG,MAIpB,qBAAKhC,UAAU,YAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,oBAAIA,UAAU,iBAAd,SAAgCyG,IAChC,mBAAGzG,UAAU,iBAAb,SACE,cAAC,IAAD,CAAMgC,GAAI0E,EAAV,SAA4BC,MAE9B,uBAAMW,SA3BK,SAAA/D,GACnBA,EAAMC,iBAMNvE,EAAQ,CAACyD,OAAQ,OACfhD,KAAM,CACJ2H,KANSd,EACT,CAACK,QAAOE,YACR,CAAC1E,WAAUwE,QAAOE,gBAsBd,UACGlI,GAAS,cAAC,EAAD,CAAsBmH,cAAenH,EAAM2I,SACrD,sCACKhB,GACA,0BAAUvG,UAAU,aAApB,SACC,uBACES,KAAK,OACLT,UAAU,+BACVwH,YAAY,WACZtJ,MAAOkE,EACPqF,SAAU,SAAAC,GAAC,OAAIV,EAAYU,EAAEC,OAAOzJ,YAI1C,0BAAU8B,UAAU,aAApB,SACE,uBACES,KAAK,QACLT,UAAU,+BACVwH,YAAY,QACZtJ,MAAO0I,EACPa,SAAU,SAAAC,GAAC,OAAIb,EAASa,EAAEC,OAAOzJ,YAGrC,0BAAU8B,UAAU,aAApB,SACE,uBACES,KAAK,WACLT,UAAU,+BACVwH,YAAY,WACZtJ,MAAO4I,EACPW,SAAU,SAAAC,GAAC,OAAIX,EAAYW,EAAEC,OAAOzJ,YAGxC,wBAAQ8B,UAAU,uCAChBS,KAAK,SACLmH,SAAUpJ,EAFZ,SAGEiI,oBC8CHoB,EAxIE,WAAO,IAAD,EACgBjG,qBAAWjB,GAD3B,mBACdkB,EADc,KACIuF,EADJ,OAGkB9I,EADxB,SAFM,0BAGZI,EAHY,EAGZA,SAAUE,EAHE,EAGFA,MAASK,EAHP,OAIKlB,mBAAS,IAJd,mBAIduE,EAJc,KAIPwF,EAJO,OAKW/J,mBAAS,IALpB,mBAKdqE,EALc,KAKJ4E,EALI,OAMCjJ,mBAAS,IANV,mBAMdgK,EANc,KAMTC,EANS,OAOKjK,mBAAS,IAPd,mBAOd6I,EAPc,KAOPC,EAPO,OAQW9I,mBAAS,IARpB,mBAQd+I,EARc,KAQJC,EARI,OASAnJ,EAAgB,SAA5BuJ,EATY,sBAUyBpJ,oBAAS,GAVlC,mBAUdkK,EAVc,KAUGC,EAVH,KA8DrB,OAzBA9J,qBAAU,WACR,GAAKyD,EAAiBxB,YAAtB,CADc,MAKqDwB,EAA3DxB,YAAeiC,EALT,EAKSA,MAAOF,EALhB,EAKgBA,SAAU2F,EAL1B,EAK0BA,IAAKnB,EAL/B,EAK+BA,MAL/B,EAKsCE,SAEpDgB,EAASxF,GACT0E,EAAY5E,GACZ4F,EAAOD,GACPlB,EAASD,MACR,CAAC/E,EAAiBxB,cAErBjC,qBAAU,WACHM,GAIL0I,EAAS,CACP3G,KAAM,iBACNC,QAAShC,EAAS2I,SAGnB,CAAC3I,EAAU0I,IAEVa,EACK,cAAC,IAAD,CAAUjG,GAAG,MAIpB,qBAAKhC,UAAU,gBAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,iCAAf,UACE,oBAAIA,UAAU,iBAAd,2BAECpB,GAAS,cAAC,EAAD,CAAsBmH,cAAenH,EAAM2I,SACrD,sBAAMD,SA9DK,SAAA/D,GACnBA,EAAMC,iBAENvE,EAAQ,CACNyD,OAAQ,MACRhD,KAAK,2BACAmC,EAAiBxB,aADlB,IAEFiC,QACAF,WACA2F,MACAnB,QACAE,gBAmDI,SACE,qCACE,0BAAU9G,UAAU,aAApB,SACE,uBAAOS,KAAK,OAAOT,UAAU,+BAC3BwH,YAAY,yBACZtJ,MAAOoE,EACPmF,SAAU,SAAAC,GAAC,OAAII,EAASJ,EAAEC,OAAOzJ,YAIrC,0BAAU8B,UAAU,aAApB,SACE,uBAAOS,KAAK,OAAOT,UAAU,+BAC3BwH,YAAY,WACZtJ,MAAOkE,EACPqF,SAAU,SAAAC,GAAC,OAAIV,EAAYU,EAAEC,OAAOzJ,YAIxC,0BAAU8B,UAAU,aAApB,SACE,0BAAUA,UAAU,+BAClBmI,KAAK,IAAIX,YAAY,sBACrBtJ,MAAO6J,EACPN,SAAU,SAAAC,GAAC,OAAIM,EAAON,EAAEC,OAAOzJ,YAInC,0BAAU8B,UAAU,aAApB,SACE,uBAAOS,KAAK,OAAOT,UAAU,+BAC3BwH,YAAY,QACZtJ,MAAO0I,EACPa,SAAU,SAAAC,GAAC,OAAIb,EAASa,EAAEC,OAAOzJ,YAIrC,0BAAU8B,UAAU,aAApB,SACE,uBAAOS,KAAK,WAAWT,UAAU,+BAC/BwH,YAAY,eACZtJ,MAAO4I,EACPW,SAAU,SAAAC,GAAC,OAAIX,EAAYW,EAAEC,OAAOzJ,YAIxC,wBAAQuC,KAAK,SAAST,UAAU,uCAAhC,kCAKJ,uBACA,wBACES,KAAK,SACLT,UAAU,yBACVyC,QAjGS,SAAAc,GACnBA,EAAMC,iBACN2D,EAAS,IACTC,EAAS,CACP3G,KAAM,WAERyH,GAAmB,IAwFX,+CClFGE,EA9BM,SAAC,GAA8C,IAA5ChG,EAA2C,EAA3CA,SAAUoD,EAAiC,EAAjCA,SAAU6C,EAAuB,EAAvBA,YAAa9J,EAAU,EAAVA,IAAU,EACjCuF,EAAa0B,EAASzB,QAA9CM,EADyD,EACzDA,OAAQH,EADiD,EACjDA,YACV5C,EAVU,SAAC,GAAqC,IAApCc,EAAmC,EAAnCA,SAAUiC,EAAyB,EAAzBA,OACtBhD,EAD+C,EAAjBgH,YAEhC,CAACxE,QAAOQ,SAAQlB,UAAWf,GAC3B,CAACyB,QAAOQ,SAAQlC,OAAQC,GAE5B,MAAM,aAAN,OAAoBsD,oBAAUrE,IAKfiH,CAAU,CAAClG,WAAUiC,SAAQgE,gBAFqB,EAGf/J,EAASgD,GAHM,0BAGxD5C,EAHwD,EAGxDA,SAAUF,EAH8C,EAG9CA,UAAWI,EAHmC,EAGnCA,MAASK,EAH0B,KAWjE,OANAsJ,QAAQC,IAAI,UAAW9J,GAEvBN,qBAAU,WACRa,MACC,CAACA,EAASoJ,IAGX,sBAAKrI,UAAU,YAAf,UACGxB,GAAa,cAAC,EAAD,IACbI,GAAS,cAAC,EAAD,KACRJ,GAAaE,GACb,qCACE,cAAC,EAAD,CAAMgF,SAAUhF,EAASgF,WACzB,cAAC,EAAD,CACEiB,MAAOjG,EAASiH,cAChB9B,MAAOA,EACPtF,IAAKA,EACL2F,YAAaA,WCgCVuE,EAlEK,SAAC,GAAyB,IAAvBjD,EAAsB,EAAtBA,SAAUpE,EAAY,EAAZA,MACzBD,EAAOC,EAAMC,OAAOF,KACpBkH,EAAc7C,EAASkD,SAASC,SAAS,aACzCrH,EAAM,oBAAgBH,GAHe,EAIb7C,EAASgD,GAJI,mBAInC5C,EAJmC,KAInCA,SAAWO,EAJwB,KAU3C,OAJAb,qBAAU,WACRa,MACC,IAEEP,EAKH,sBAAKsB,UAAU,eAAf,UACE,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,kCAAf,UACE,qBAAKA,UAAU,WAAWuC,IAAI,GAAGF,IAAK3D,EAASkK,QAAQtG,QACvD,6BAAK5D,EAASkK,QAAQxG,WACtB,4BAAI1D,EAASkK,QAAQb,eAM7B,qBAAK/H,UAAU,YAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,kCAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,qBAAIA,UAAU,+BAAd,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,WACVgC,GAAE,oBAAetD,EAASkK,QAAQxG,UAClCkD,OAAK,EAHP,wBASF,oBAAItF,UAAU,WAAd,SACE,cAAC,IAAD,CACEA,UAAU,WACVgC,GAAE,oBAAetD,EAASkK,QAAQxG,SAAhC,cAFJ,oCASN,cAAC,EAAD,CACEA,SAAU1D,EAASkK,QAAQxG,SAC3BoD,SAAUA,EACV6C,YAAaA,EACb9J,IAAK6C,EAAM7C,gBA9Cd,MC+EIsK,EA5FK,SAAC,GAAyC,IAAvCvB,EAAsC,EAAtCA,SAAUC,EAA4B,EAA5BA,OAAQuB,EAAoB,EAApBA,cAAoB,EACjC/K,mBAAS,IADwB,mBACpDmE,EADoD,KAC7C6G,EAD6C,OAErBhL,mBAAS,IAFY,mBAEpD6F,EAFoD,KAEvCoF,EAFuC,OAGnCjL,mBAAS,IAH0B,mBAGpD4E,EAHoD,KAG9CsG,EAH8C,OAI7BlL,mBAAS,IAJoB,mBAIpD6E,EAJoD,KAI3CsG,EAJ2C,KAM3D9K,qBAAU,WACH0K,IAILC,EAASD,EAAc5G,OACvB8G,EAAeF,EAAclF,aAC7BqF,EAAQH,EAAcnG,MACtBuG,EAAWJ,EAAclG,YACxB,CAACkG,IAaJ,OACE,qBAAK9I,UAAU,cAAf,SACE,qBAAKA,UAAU,iBAAf,SACE,qBAAKA,UAAU,MAAf,SACE,sBAAKA,UAAU,kCAAf,UACGuH,GAAU,cAAC,EAAD,CAAsBxB,cAAewB,IAChD,sBAAMD,SAjBK,SAAA/D,GACnBA,EAAMC,iBAON8D,EANgB,CACdpF,QACA0B,cACAjB,OACAC,aAWM,SACE,qCAEE,0BAAU5C,UAAU,aAApB,SACE,uBACES,KAAK,OACLT,UAAU,+BACVwH,YAAY,gBACZtJ,MAAOgE,EACPuF,SAAU,SAAAC,GAAC,OAAIqB,EAASrB,EAAEC,OAAOzJ,YAIrC,0BAAU8B,UAAU,aAApB,SACE,uBACES,KAAK,OACLT,UAAU,+BACVwH,YAAY,8BACZtJ,MAAO0F,EACP6D,SAAU,SAAAC,GAAC,OAAIsB,EAAetB,EAAEC,OAAOzJ,YAI3C,0BAAU8B,UAAU,aAApB,SACE,0BAAUA,UAAU,eAClBmI,KAAK,IACLX,YAAY,mCACZtJ,MAAOyE,EACP8E,SAAU,SAAAC,GAAC,OAAIuB,EAAQvB,EAAEC,OAAOzJ,YAKpC,0BAAU8B,UAAU,aAApB,SACE,uBACES,KAAK,OACLT,UAAU,+BACVwH,YAAY,aACZtJ,MAAO0E,EACP6E,SAAU,SAAAC,GAAC,OAAIwB,EAAWxB,EAAEC,OAAOzJ,YAIvC,0BAAU8B,UAAU,aAApB,SACE,wBAAQS,KAAK,SAAST,UAAU,uCAAhC,8CC3BHmJ,EAhDO,WAAO,IAAD,EACCvH,qBAAWjB,GAA/BkB,EADmB,sBAGavD,EADxB,aAFW,0BAGjBI,EAHiB,EAGjBA,SAAUE,EAHO,EAGPA,MAASK,EAHF,OAUoBlB,oBAAS,GAV7B,mBAUnBkJ,EAVmB,KAUFC,EAVE,KA6B1B,OARA9I,qBAAU,WACHM,GAILwI,GAAmB,KAClB,CAACxI,KAEgC,IAAhCmD,EAAiBzB,WACZ,cAAC,IAAD,CAAU4B,GAAG,MAGlBiF,EACK,cAAC,IAAD,CAAUjF,GAAE,oBAAetD,EAASuD,QAAQd,QAInD,8BACE,cAAC,EAAD,CACEmG,SA5Be,SAAArF,GACnBhD,EAAQ,CACNyD,OAAQ,OACRhD,KAAM,CACJuC,cAyBA6G,cArCgB,CACpB5G,MAAO,GACP0B,YAAa,GACbjB,KAAM,GACNC,QAAS,IAkCL2E,OAAS3I,GAASA,EAAM2I,QAAW,QC0B5B6B,EApEK,SAAC,GAAe,IAC5BjI,EAD2B,EAAZC,MACFC,OAAOF,KACpBG,EAAM,oBAAgBH,GAFK,EAG4B7C,EAASgD,GAHrC,mBAGdC,EAHc,KAGxB7C,SAAkC2K,EAHV,OAIyD/K,EAASgD,GAJlE,0BAIdgI,EAJc,EAIxB5K,SAAwC6K,EAJhB,EAIS3K,MAA6B4K,EAJtC,OAKSzL,mBAAS,MALlB,mBAK1B+K,EAL0B,KAKXW,EALW,OAMa1L,oBAAS,GANtB,mBAM1BkJ,EAN0B,KAMTC,EANS,OAONtF,qBAAWjB,GAA/BkB,EAP0B,oBASjC0G,QAAQC,IAAI3G,GAuCZ,OA3BAzD,qBAAU,WACRiL,MACC,CAACA,IAEJjL,qBAAU,WACR,GAAKmD,EAAL,CADc,MAK6CA,EAAnDU,QAAWC,EALL,EAKKA,MAAO0B,EALZ,EAKYA,YAAajB,EALzB,EAKyBA,KAAMC,EAL/B,EAK+BA,QAE7C6G,EAAiB,CACfvH,QACA0B,cACAjB,OACAC,eAED,CAACrB,IAEJnD,qBAAU,WACHkL,GAILpC,GAAmB,KAClB,CAACoC,KAEgC,IAAhCzH,EAAiBzB,WACZ,cAAC,IAAD,CAAU4B,GAAG,MAGlBiF,EACK,cAAC,IAAD,CAAUjF,GAAE,oBAAeb,KAIlC,gCACE,kDACA,cAAC,EAAD,CACEmG,SAjDe,SAAArF,GACnBsG,QAAQC,IAAI,iBAAkBvG,GAC9BuH,EAAgB,CACd9G,OAAQ,MACRhD,KAAM,CACJuC,cA6CAsF,OAASgC,GAAsBA,EAAmBhC,QAAW,GAC7DuB,cAAeA,QCvCRY,EAlBA,WACb,OACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOlD,KAAK,IAAIlB,OAAK,EAACqE,UAAWpE,IACjC,cAAC,IAAD,CAAOiB,KAAK,QAAQmD,UAAW9D,IAC/B,cAAC,IAAD,CAAOW,KAAK,cAAcmD,UAAW/D,IACrC,cAAC,IAAD,CAAOY,KAAK,SAASmD,UAAWrD,IAChC,cAAC,IAAD,CAAOE,KAAK,YAAYmD,UAAWrD,IACnC,cAAC,IAAD,CAAOE,KAAK,YAAYmD,UAAW9B,IACnC,cAAC,IAAD,CAAOrB,KAAK,kBAAkBlB,OAAK,EAACqE,UAAWlB,IAC/C,cAAC,IAAD,CAAOjC,KAAK,4BAA4BmD,UAAWlB,IACnD,cAAC,IAAD,CAAOjC,KAAK,gBAAgBmD,UAAWR,IACvC,cAAC,IAAD,CAAO3C,KAAK,uBAAuBmD,UAAWP,IAC9C,cAAC,IAAD,CAAO5C,KAAK,kBAAkBmD,UAAW1I,QC2ChC2I,EA/DA,WAAO,IAAD,EACQhI,qBAAWjB,GAA/BkB,EADY,oBAGnB,OACE,qBAAK7B,UAAU,sBAAf,SACE,sBAAKA,UAAU,YAAf,UACE,cAAC,IAAD,CAAMgC,GAAG,IAAIhC,UAAU,eAAvB,qBAIA,qBAAIA,UAAU,+BAAd,UACE,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAASgC,GAAG,IAAIsD,OAAK,EAACtF,UAAU,WAAhC,qBAK+B,IAAhC6B,EAAiBzB,YAChB,qCACE,oBAAIJ,UAAU,WAAd,SACE,cAAC,IAAD,CAASgC,GAAG,SAAShC,UAAU,WAA/B,uBAIF,oBAAIA,UAAU,WAAd,SACE,cAAC,IAAD,CAASgC,GAAG,YAAYhC,UAAU,WAAlC,0BAML6B,EAAiBzB,YAChB,qCACE,oBAAIJ,UAAU,WAAd,SACE,eAAC,IAAD,CAASgC,GAAG,gBAAgBhC,UAAU,WAAtC,UACE,mBAAGA,UAAU,gBADf,qBAMF,oBAAIA,UAAU,WAAd,SACE,eAAC,IAAD,CAASgC,GAAG,YAAYhC,UAAU,WAAlC,UACE,mBAAGA,UAAU,eADf,qBAMF,oBAAIA,UAAU,WAAd,SACE,eAAC,IAAD,CAASgC,GAAE,oBAAeH,EAAiBxB,YAAY+B,UAAYpC,UAAU,WAA7E,UACE,qBAAKA,UAAU,WAAWuC,IAAI,GAC5BF,IAAKR,EAAiBxB,YAAYiC,QAFtC,QAIUT,EAAiBxB,YAAY+B,0BCtBxCyH,EA7BY,SAAC,GAAkB,IAAhB/I,EAAe,EAAfA,SAAe,EACXxC,EAAS,SADE,mBAClCI,EADkC,KAClCA,SAAYO,EADsB,OAEN2C,qBAAWjB,GAFL,mBAElByG,GAFkB,aAG3BxJ,EAAgB,SAAzBoB,EAHoC,oBA0B3C,OArBAZ,qBAAU,WACHY,GAKLC,IACAmI,EAAS,CAAC3G,KAAM,aALd2G,EAAS,CAAC3G,KAAM,uBAMjB,CAACzB,EAAOoI,EAAUnI,IAErBb,qBAAU,WACHM,GAIL0I,EAAS,CACP3G,KAAM,iBACNC,QAAShC,EAAS2I,SAEnB,CAAC3I,EAAU0I,IAEPtG,GCvBHgJ,EAAM,WACV,OACE,cAAC,EAAD,UACE,cAAC,EAAD,UACE,eAAC,IAAD,WACE,cAAC,EAAD,IACA,cAAC,EAAD,YAOVC,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.43ab0936.chunk.js","sourcesContent":["import { useEffect, useState } from 'react'\r\n\r\nconst useLocalStorage = (key, initialValue = '') => {\r\n  const [value, setValue] = useState(() => {\r\n    return localStorage.getItem(key) || initialValue\r\n  })\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem(key, value)\r\n  }, [value, key])\r\n\r\n  return [value, setValue]\r\n}\r\n\r\nexport default useLocalStorage","import { useState, useEffect, useCallback } from 'react'\r\nimport axios from 'axios'\r\n\r\nimport useLocalStorage from 'hooks/useLocalStorage'\r\n\r\nconst useFetch = url => {\r\n  const baseUrl = 'https://conduit.productionready.io/api'\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [response, setResponse] = useState(null)\r\n  const [error, setError] = useState(null)\r\n  const [options, setOptions] = useState({})\r\n  const [token] = useLocalStorage('token')\r\n\r\n  const doFetch = useCallback((options = {}) => {\r\n    setOptions(options)\r\n    setIsLoading(true)\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    let skipGetRespAfterDestroy = false\r\n    const requestOptions = {\r\n      ...options,\r\n      ...{\r\n        headers: {\r\n          authorization: token ? `Token ${token}` : ''\r\n        }\r\n      }\r\n    }\r\n    \r\n    if (!isLoading) {\r\n      return\r\n    }\r\n    axios(`${baseUrl}${url}`, requestOptions)\r\n    .then(res => {\r\n      if (!skipGetRespAfterDestroy) {\r\n        setIsLoading(false)\r\n        setResponse(res.data)  \r\n      }\r\n    })\r\n    .catch(error => {\r\n      if (!skipGetRespAfterDestroy) {\r\n        setIsLoading(false)\r\n        setError(error.response.data)  \r\n      }\r\n    })\r\n    \r\n    return () => {\r\n      skipGetRespAfterDestroy = true\r\n    }\r\n  }, [isLoading, options, url, token])\r\n  \r\n  return [{ isLoading, response, error }, doFetch]\r\n}\r\n\r\nexport default useFetch\r\n","\r\nconst Loading = () => {\r\n\r\n  return (\r\n    <div>Загрузка...</div>\r\n  )\r\n}\r\n\r\nexport default Loading\r\n","\r\nconst ErrorBoundary = () => {\r\n\r\n  return (\r\n    <div>Что-то пошло не так...</div>\r\n  )\r\n}\r\n\r\nexport default ErrorBoundary\r\n","\r\nconst TagList = ({ tags }) => {\r\n  return (\r\n    <ul className=\"tag-list\">\r\n      {tags.map(tag => (\r\n        <li key={tag} className=\"tag-default tag-pill tag-outline\">\r\n          {tag}\r\n        </li>\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default TagList\r\n","import { createContext, useReducer } from 'react'\r\n\r\nconst initialState = {\r\n  isLoading: false,\r\n  isLoggedIn: null,\r\n  currentUser: null\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'LOADING':\r\n      return {\r\n        ...state,\r\n        isLoading: true\r\n      }\r\n    case 'SET_AUTHORIZED':\r\n      return {\r\n        ...state,\r\n        isLoggedIn: true,\r\n        currentUser: action.payload,\r\n        isLoading: false\r\n      }\r\n    case 'SET_UNAUTHORIZED':\r\n      return {\r\n        ...state,\r\n        isLoggedIn: false,\r\n      }\r\n    case 'LOGOUT':\r\n      return {\r\n        ...initialState,\r\n        isLoggedIn: false,\r\n      }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport const CurrentUserContext = createContext()\r\n\r\nexport const CurrentUserProvider = ({ children }) => {\r\n  const value = useReducer(reducer, initialState)\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={value}>\r\n      {children}\r\n    </CurrentUserContext.Provider>\r\n  )\r\n}","import { useEffect, useContext, useState } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\n\r\nimport useFetch from 'hooks/useFetch'\r\nimport Loading from 'components/Loading/Loading'\r\nimport ErrorBondary from 'components/ErrorBoundary/ErrorBoundary'\r\nimport TagList from 'components/TagList/TagList'\r\nimport { CurrentUserContext } from 'contexts/currentUser'\r\n\r\nconst Article = props => {\r\n  const slug = props.match.params.slug\r\n  const apiUrl = `/articles/${slug}`\r\n  const [{ response: fetchArticleResponse,\r\n    isLoading: fetchArticleIsLoading, error: fetchArticleError }, doFetch] = useFetch(apiUrl)\r\n  const [{ response: deleteArticleResponse }, doDeleteArticle] = useFetch(apiUrl)\r\n  const [currentUserState] = useContext(CurrentUserContext)\r\n  const [isSuccessDelete, setIsSuccessDelete] = useState(false)\r\n\r\n  const isAuthor = () => {\r\n    if (!fetchArticleResponse || !currentUserState.isLoggedIn) {\r\n      return false\r\n    }\r\n\r\n    return (\r\n      fetchArticleResponse.article.author.username === currentUserState.currentUser.username\r\n    )\r\n  }\r\n\r\n  useEffect(() => {\r\n    doFetch()\r\n  }, [doFetch])\r\n\r\n  const deleteArticleHandler = () => {\r\n    doDeleteArticle({\r\n      method: 'delete'\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!deleteArticleResponse) {\r\n      return\r\n    }\r\n\r\n    setIsSuccessDelete(true)\r\n  }, [deleteArticleResponse])\r\n\r\n  if (isSuccessDelete) {\r\n    return <Redirect to=\"/\" />\r\n  }\r\n\r\n  return (\r\n    <div className=\"article-page\">\r\n      <div className=\"banner\">\r\n        {!fetchArticleIsLoading && fetchArticleResponse && (\r\n          <div className=\"container\">\r\n            <h1>{fetchArticleResponse.article.title}</h1>\r\n            <div className=\"article-meta\">\r\n              <Link to={`/profiles/${fetchArticleResponse.article.author.username}`}>\r\n                <img src={fetchArticleResponse.article.author.image} alt=\"\" />\r\n              </Link>\r\n              <div className=\"info\">\r\n                <Link to={`/profiles/${fetchArticleResponse.article.author.username}`}>\r\n                  {fetchArticleResponse.article.author.username}\r\n                </Link>\r\n                <span className=\"date\">{fetchArticleResponse.article.createdAt}</span>\r\n              </div>\r\n              {isAuthor() && (\r\n                <span>\r\n                  <Link\r\n                    className=\"btn btn-outline-secondary btn-sm\"\r\n                    to={`/articles/${fetchArticleResponse.article.slug}/edit`}\r\n                  >\r\n                    <i className=\"ion-edit\"></i>\r\n                    Edit Article\r\n                  </Link>\r\n                  <button\r\n                    className=\"btn btn-outline-danger btn-sm\"\r\n                    onClick={deleteArticleHandler}\r\n                  >\r\n                    <i className=\"ion-trash-a\"></i>\r\n                    Delete Article\r\n                  </button>\r\n                </span>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"container page\">\r\n        {fetchArticleIsLoading && <Loading />}\r\n        {fetchArticleError && <ErrorBondary />}\r\n        {!fetchArticleIsLoading && fetchArticleResponse && (\r\n          <div className=\"row article-content\">\r\n            <div className=\"col-xs-12\">\r\n              <div>\r\n                <p>{fetchArticleResponse.article.body}</p>\r\n              </div>\r\n              <TagList tags={fetchArticleResponse.article.tagList} />\r\n            </div>  \r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Article\r\n","import classNames from 'classnames'\r\n\r\nimport useFetch from 'hooks/useFetch'\r\n\r\nconst AddToFavorites = ({ isFavorited, favoritesCount, articleSlug }) => {\r\n  const apiUrl = `/articles/${articleSlug}/favorite`\r\n  const [{ response }, doFetch] = useFetch(apiUrl)\r\n  const favoritesCountWithResponse = response ? response.article.favoritesCount : favoritesCount\r\n  const isFavoritedWithResponse = response ? response.article.favorited : isFavorited\r\n  const likeClasses = classNames({\r\n    btn: true,\r\n    'btn-sm': true,\r\n    'btn-primary': isFavoritedWithResponse,\r\n    'btn-outline-primary': !isFavoritedWithResponse\r\n  })\r\n\r\n  const handleLike = event => {\r\n    event.preventDefault()\r\n    doFetch({\r\n      method: isFavoritedWithResponse ? 'delete' : 'post'\r\n    })\r\n  }\r\n\r\n  return (\r\n    <button\r\n      className={likeClasses}\r\n      onClick={handleLike}\r\n    >\r\n      <i className=\"ion-heart\"></i>\r\n      <span>&nbsp; {favoritesCountWithResponse}</span>\r\n    </button>\r\n  )\r\n}\r\n\r\nexport default AddToFavorites","import {  Link } from 'react-router-dom'\r\n\r\nimport TagList from 'components/TagList/TagList'\r\nimport AddToFavorites from 'components/AddToFavorites/AddToFavorites'\r\n\r\nconst Feed = ({ articles }) => {\r\n  return (\r\n    <div>\r\n      {articles.map((article, index) => {\r\n        return (\r\n          <div className=\"article-preview\" key={index}>\r\n            <div className=\"article-meta\">\r\n              <Link to={`/profiles/${article.author.username}`}>\r\n                <img src={article.author.image} alt=\"\" />\r\n              </Link>\r\n              <div className=\"info\">\r\n                <Link className=\"author\"\r\n                  to={`/profiles/${article.author.username}`}\r\n                >\r\n                  {article.author.username}\r\n                </Link>\r\n                <span className=\"date\">{article.createdAt}</span>\r\n              </div>\r\n\r\n              <div className=\"pull-xs-right\">\r\n                <AddToFavorites\r\n                  isFavorited={article.favorited}\r\n                  favoritesCount={article.favoritesCount}\r\n                  articleSlug={article.slug}\r\n                />\r\n              </div>\r\n\r\n            </div>\r\n            <Link className=\"preview-link\"\r\n              to={`/articles/${article.slug}`}\r\n            >\r\n              <h1>{article.title}</h1>\r\n              <p>{article.description}</p>\r\n              <span>Read more...</span>\r\n              <TagList tags={article.tagList} />\r\n            </Link>\r\n          </div>\r\n        )\r\n      })}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Feed\r\n","import { parse } from 'query-string'\r\n\r\nexport const range = (start, end) => {\r\n  return [...Array(end).keys()].map((el => el + start))\r\n}\r\n\r\nexport const limit = 10\r\n\r\nexport const getPaginator = search => {\r\n  const parsedSearch = parse(search)\r\n  const currentPage = parsedSearch.page \r\n    ? Number(parsedSearch.page)\r\n    : 1\r\n  const offset = currentPage * limit - limit\r\n\r\n  return {\r\n    currentPage,\r\n    offset\r\n  }\r\n}","import { Link } from 'react-router-dom'\r\nimport classNames from 'classnames'\r\n\r\nimport { range } from 'utils/utils'\r\n\r\nconst PaginationItem = ({ page, currentPage, url }) => {\r\n  const liClasses = classNames({\r\n    'page-item': true,\r\n    'active': currentPage === page\r\n  })\r\n\r\n  return (\r\n    <li className={liClasses}>\r\n      <Link\r\n        className=\"page-link\" \r\n        to={`${url}?page=${page}`}\r\n      >\r\n        {page}\r\n      </Link>\r\n    </li>\r\n  )\r\n}\r\n\r\nconst Pagination = ({ total, limit, url, currentPage }) => {\r\n  const pagesCount = Math.ceil(total/limit)\r\n  const pages = range(1, pagesCount)\r\n\r\n  return (\r\n    <ul className=\"pagination\">\r\n      {pages.map(page => (\r\n        <PaginationItem\r\n          key={page}\r\n          page={page}\r\n          currentPage={currentPage}\r\n          url={url}\r\n        />\r\n      ))}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default Pagination\r\n","import { useEffect } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nimport useFetch from 'hooks/useFetch'\r\nimport Loading from 'components/Loading/Loading'\r\nimport ErrorBoundary from 'components/ErrorBoundary/ErrorBoundary'\r\n\r\nconst PopularTags = () => {\r\n  const [{ response, isLoading, error }, doFetch] = useFetch('/tags')\r\n\r\n  useEffect(() => {\r\n    doFetch()\r\n  }, [doFetch])\r\n\r\n  if (isLoading || !response) {\r\n    return <Loading />\r\n  }\r\n\r\n  if (error) {\r\n    return <ErrorBoundary />\r\n  }\r\n\r\n  return (\r\n    <div className=\"sidebar\">\r\n      <p>Популярные теги</p>\r\n      <div className=\"tag-list\">\r\n        { response.tags.map(tag => (\r\n          <Link className=\"tag-default tag-pill\"\r\n            key={tag}\r\n            to={`/tags/${tag}`}\r\n          >\r\n            {tag}\r\n          </Link>\r\n        ))}      \r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopularTags\r\n","import { NavLink } from 'react-router-dom'\r\nimport { useContext } from 'react'\r\n\r\nimport { CurrentUserContext } from 'contexts/currentUser'\r\n\r\nconst FeedToggler = ({ tagName }) => {\r\n  const [currentUserState] = useContext(CurrentUserContext)\r\n\r\n  return (\r\n  <div className=\"feed-toggle\">\r\n    <ul className=\"nav nav-pills outline-active\">\r\n      { currentUserState.isLoggedIn && (\r\n        <li className=\"nav-item\">\r\n          <NavLink to=\"/feed\" className=\"nav-link\">Your feed</NavLink>\r\n        </li>\r\n      )}\r\n      <li className=\"nav-item\">\r\n        <NavLink to=\"/\" exact className=\"nav-link\">Global feed</NavLink>\r\n      </li>\r\n      { tagName && (\r\n        <li className=\"nav-item\">\r\n          <NavLink to={`/tags/${tagName}`} className=\"nav-link\">\r\n            <i className=\"ion-pound\"></i>\r\n            {tagName}\r\n          </NavLink>\r\n        </li>  \r\n      )}\r\n    </ul>\r\n  </div>\r\n  )\r\n}\r\n\r\nexport default FeedToggler\r\n","import { useEffect } from 'react'\r\nimport { stringify } from 'query-string'\r\n\r\nimport useFetch from 'hooks/useFetch'\r\nimport Feed from 'components/Feed/Feed'\r\nimport Pagination from 'components/Pagination/Pagination'\r\nimport PopularTags from 'components/PopularTags/PopularTags'\r\nimport Loading from 'components/Loading/Loading'\r\nimport ErrorBoundary from 'components/ErrorBoundary/ErrorBoundary'\r\nimport FeedToggler from 'components/FeedToggler/FeedToggler'\r\nimport { getPaginator, limit } from 'utils/utils'\r\n\r\nconst GlobalFeed = ({ location, match }) => {\r\n  const { currentPage, offset } = getPaginator(location.search)\r\n  const stringifiedParams = stringify({\r\n    limit,\r\n    offset\r\n  })\r\n  const apiUrl = `/articles?${stringifiedParams}`\r\n  const [{ response, isLoading, error }, doFetch] = useFetch(apiUrl)\r\n  const url = match.url\r\n\r\n  useEffect(() => {\r\n    doFetch()\r\n  }, [doFetch, currentPage])\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      <div className=\"banner\">\r\n        <div className=\"container\">\r\n          <h1>conduit clone</h1>\r\n          <p>A place to share knowledge</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-9\">\r\n            <FeedToggler />\r\n\r\n            {isLoading && <Loading/>}\r\n            {error && <ErrorBoundary />}\r\n            {!isLoading && response && (\r\n              <>\r\n                <Feed articles={response.articles}/>\r\n                <Pagination\r\n                  total={response.articlesCount}\r\n                  limit={limit}\r\n                  url={url}\r\n                  currentPage={currentPage}\r\n                />\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <PopularTags />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default GlobalFeed\r\n","import { useEffect } from 'react'\r\nimport { stringify } from 'query-string'\r\n\r\nimport useFetch from 'hooks/useFetch'\r\nimport Feed from 'components/Feed/Feed'\r\nimport Pagination from 'components/Pagination/Pagination'\r\nimport PopularTags from 'components/PopularTags/PopularTags'\r\nimport Loading from 'components/Loading/Loading'\r\nimport ErrorBoundary from 'components/ErrorBoundary/ErrorBoundary'\r\nimport FeedToggler from 'components/FeedToggler/FeedToggler'\r\nimport { getPaginator, limit } from 'utils/utils'\r\n\r\nconst TagFeed = ({ location, match }) => {\r\n  const tagName = match.params.slug\r\n  const { currentPage, offset } = getPaginator(location.search)\r\n  const stringifiedParams = stringify({\r\n    limit,\r\n    offset,\r\n    tag: tagName\r\n  })\r\n  const apiUrl = `/articles?${stringifiedParams}`\r\n  const [{ response, isLoading, error }, doFetch] = useFetch(apiUrl)\r\n  const url = match.url\r\n\r\n  useEffect(() => {\r\n    doFetch()\r\n  }, [doFetch, currentPage, tagName])\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      <div className=\"banner\">\r\n        <div className=\"container\">\r\n          <h1>Medium clone</h1>\r\n          <p>A place to share knowledge</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-9\">\r\n            <FeedToggler tagName={tagName}/>\r\n\r\n            {isLoading && <Loading/>}\r\n            {error && <ErrorBoundary />}\r\n            {!isLoading && response && (\r\n              <>\r\n                <Feed articles={response.articles}/>\r\n                <Pagination\r\n                  total={response.articlesCount}\r\n                  limit={limit}\r\n                  url={url}\r\n                  currentPage={currentPage}\r\n                />\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <PopularTags />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default TagFeed\r\n","import { useEffect } from 'react'\r\nimport { stringify } from 'query-string'\r\n\r\nimport useFetch from 'hooks/useFetch'\r\nimport Feed from 'components/Feed/Feed'\r\nimport Pagination from 'components/Pagination/Pagination'\r\nimport PopularTags from 'components/PopularTags/PopularTags'\r\nimport Loading from 'components/Loading/Loading'\r\nimport ErrorBoundary from 'components/ErrorBoundary/ErrorBoundary'\r\nimport FeedToggler from 'components/FeedToggler/FeedToggler'\r\nimport { getPaginator, limit } from 'utils/utils'\r\n\r\nconst YourFeed = ({ location, match }) => {\r\n  const { currentPage, offset } = getPaginator(location.search)\r\n  const stringifiedParams = stringify({\r\n    limit,\r\n    offset\r\n  })\r\n  const apiUrl = `/articles/feed?${stringifiedParams}`\r\n  const [{ response, isLoading, error }, doFetch] = useFetch(apiUrl)\r\n  const url = match.url\r\n\r\n  useEffect(() => {\r\n    doFetch()\r\n  }, [doFetch, currentPage])\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      <div className=\"banner\">\r\n        <div className=\"container\">\r\n          <h1>Medium clone</h1>\r\n          <p>A place to share knowledge</p>\r\n        </div>\r\n      </div>\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-9\">\r\n            <FeedToggler />\r\n\r\n            {isLoading && <Loading/>}\r\n            {error && <ErrorBoundary />}\r\n            {!isLoading && response && (\r\n              <>\r\n                <Feed articles={response.articles}/>\r\n                <Pagination\r\n                  total={response.articlesCount}\r\n                  limit={limit}\r\n                  url={url}\r\n                  currentPage={currentPage}\r\n                />\r\n              </>\r\n            )}\r\n          </div>\r\n          <div className=\"col-md-3\">\r\n            <PopularTags />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default YourFeed\r\n","const BackendErrorMessages = ({ backendErrors }) => {\r\n  const errorMessages = Object.keys(backendErrors).map(name => {\r\n    const messages = backendErrors[name].join(' ')\r\n    return `${name} ${messages}`\r\n  })\r\n  \r\n  return (\r\n    <ul className=\"error-messages\">\r\n      {errorMessages.map(errorMessage => <li key={errorMessage}>{errorMessage}</li>)}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default BackendErrorMessages\r\n","import { useState, useEffect, useContext } from 'react'\r\nimport { Link, Redirect } from 'react-router-dom'\r\n\r\nimport useFetch from 'hooks/useFetch'\r\nimport useLocalStorage from 'hooks/useLocalStorage'\r\nimport { CurrentUserContext } from 'contexts/currentUser'\r\nimport BackendErrorMessages from 'components/BackendErrorMessages/BackendErrorMessages'\r\n\r\nconst Auth = props => {\r\n  const isLogin = props.match.path === '/login'\r\n  const pageTitle = isLogin ? 'Sign in' : 'Sign up'\r\n  const descriptionLink = isLogin ? '/register' : '/login'\r\n  const descriptionText = isLogin ? 'Need an account?' : 'Have an account?'\r\n  const apiUrl = isLogin ? '/users/login' : '/users' \r\n  \r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [username, setUsername] = useState('')\r\n  const [isSuccessSubmit, setIsSuccessSubmit] = useState(false)\r\n  const [{ isLoading, response, error }, doFetch] = useFetch(apiUrl)\r\n  const [, setToken] = useLocalStorage('token')\r\n  const [, dispatch] = useContext(CurrentUserContext)\r\n\r\n  useEffect(() => {\r\n    if (!response) {\r\n      return\r\n    }\r\n    setToken(response.user.token)\r\n    setIsSuccessSubmit(true)\r\n\r\n    dispatch({\r\n      type: 'SET_AUTHORIZED',\r\n      payload: response.user\r\n    })\r\n  }, [response, setToken, dispatch, doFetch])\r\n  \r\n  const handleSubmit = event => {\r\n    event.preventDefault()\r\n    \r\n    const user = isLogin\r\n      ? {email, password}\r\n      : {username, email, password} \r\n\r\n    doFetch({method: 'post',\r\n      data: {\r\n        user\r\n      }\r\n    })\r\n  }\r\n\r\n  if (isSuccessSubmit) {\r\n    return <Redirect to=\"/\" />\r\n  }\r\n\r\n  return (\r\n    <div className=\"auth-page\">\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n            <h1 className=\"text-xs-center\">{pageTitle}</h1>\r\n            <p className=\"text-xs-center\">\r\n              <Link to={descriptionLink}>{descriptionText}</Link>\r\n            </p>\r\n            <form onSubmit={handleSubmit}>\r\n              {error && <BackendErrorMessages backendErrors={error.errors} />}\r\n              <fieldset>\r\n                { !isLogin &&\r\n                  (<fieldset className=\"form-group\">\r\n                    <input\r\n                      type=\"text\"\r\n                      className=\"form-control form-control-lg\"\r\n                      placeholder=\"Username\"\r\n                      value={username}\r\n                      onChange={e => setUsername(e.target.value)}\r\n                    />\r\n                  </fieldset>\r\n                )}\r\n                <fieldset className=\"form-group\">\r\n                  <input\r\n                    type=\"email\"\r\n                    className=\"form-control form-control-lg\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={e => setEmail(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <input\r\n                    type=\"password\"\r\n                    className=\"form-control form-control-lg\"\r\n                    placeholder=\"Password\"\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n                <button className=\"btn btn-lg btn-primary pull-xs-right\"\r\n                  type=\"submit\"\r\n                  disabled={isLoading}\r\n                >{pageTitle}</button>\r\n              </fieldset>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Auth\r\n","import { Redirect } from 'react-router-dom'\r\nimport { useEffect, useState, useContext } from 'react'\r\n\r\nimport BackendErrorMessages from 'components/BackendErrorMessages/BackendErrorMessages'\r\nimport useFetch from 'hooks/useFetch'\r\nimport useLocalStorage from 'hooks/useLocalStorage'\r\nimport { CurrentUserContext } from 'contexts/currentUser'\r\n\r\nconst Settings = () => {\r\n  const [currentUserState, dispatch] = useContext(CurrentUserContext)\r\n  const apiUrl = '/user'\r\n  const [{ response, error }, doFetch] = useFetch(apiUrl)\r\n  const [image, setImage] = useState('')\r\n  const [username, setUsername] = useState('')\r\n  const [bio, setBio] = useState('')\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n  const [, setToken] = useLocalStorage('token')\r\n  const [isSuccessLogout, setIsSuccessLogout] = useState(false)\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault()\r\n\r\n    doFetch({\r\n      method: 'put',\r\n      data: {\r\n        ...currentUserState.currentUser,\r\n        image,\r\n        username,\r\n        bio,\r\n        email,\r\n        password\r\n      }\r\n    })\r\n  }\r\n\r\n  const handleLogout = event => {\r\n    event.preventDefault()\r\n    setToken('')\r\n    dispatch({\r\n      type: 'LOGOUT'\r\n    })\r\n    setIsSuccessLogout(true)\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!currentUserState.currentUser) {\r\n      return\r\n    }\r\n\r\n    const { currentUser: { image, username, bio, email, password } } = currentUserState\r\n    \r\n    setImage(image)\r\n    setUsername(username)\r\n    setBio(bio)\r\n    setEmail(email)\r\n  }, [currentUserState.currentUser])\r\n\r\n  useEffect(() => {\r\n    if (!response) {\r\n      return\r\n    }\r\n\r\n    dispatch({\r\n      type: 'SET_AUTHORIZED',\r\n      payload: response.user\r\n    })\r\n\r\n  }, [response, dispatch])\r\n\r\n  if (isSuccessLogout) {\r\n    return <Redirect to=\"/\" />\r\n  }\r\n\r\n  return (\r\n    <div className=\"settings-page\">\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-6 offset-md-3 col-xs-12\">\r\n            <h1 className=\"text-xs-center\">Your settings</h1>\r\n            \r\n            {error && <BackendErrorMessages backendErrors={error.errors} />}\r\n            <form onSubmit={handleSubmit}>\r\n              <fieldset>\r\n                <fieldset className=\"form-group\">\r\n                  <input type=\"text\" className=\"form-control form-control-lg\"\r\n                    placeholder=\"URL of profile picture\"\r\n                    value={image}\r\n                    onChange={e => setImage(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <input type=\"text\" className=\"form-control form-control-lg\"\r\n                    placeholder=\"Username\"\r\n                    value={username}\r\n                    onChange={e => setUsername(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <textarea className=\"form-control form-control-lg\"\r\n                    rows=\"8\" placeholder=\"Short bio about you\"\r\n                    value={bio}\r\n                    onChange={e => setBio(e.target.value)}\r\n                  ></textarea>\r\n                </fieldset>\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <input type=\"text\" className=\"form-control form-control-lg\"\r\n                    placeholder=\"Email\"\r\n                    value={email}\r\n                    onChange={e => setEmail(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <input type=\"password\" className=\"form-control form-control-lg\"\r\n                    placeholder=\"New Password\"\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n\r\n                <button type=\"submit\" className=\"btn btn-lg btn-primary pull-xs-right\">\r\n                  Update Settings\r\n                </button>\r\n              </fieldset>\r\n            </form>\r\n            <hr />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"btn btn-outline-danger\"\r\n              onClick={handleLogout}\r\n            >\r\n              Or click here to logout\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Settings\r\n","import { useEffect } from 'react'\r\nimport { stringify } from 'query-string'\r\n\r\nimport { getPaginator, limit } from 'utils/utils'\r\nimport useFetch from 'hooks/useFetch'\r\nimport Loading from 'components/Loading/Loading'\r\nimport ErrorBoundary from 'components/ErrorBoundary/ErrorBoundary'\r\nimport Feed from 'components/Feed/Feed'\r\nimport Pagination from 'components/Pagination/Pagination'\r\n\r\nconst getApiUrl = ({username, offset, isFavorites}) => {\r\n  const params = isFavorites\r\n    ? {limit, offset, favorited: username}\r\n    : {limit, offset, author: username}\r\n\r\n  return `/articles?${stringify(params)}`\r\n}\r\n\r\nconst UserArticles = ({ username, location, isFavorites, url }) => {\r\n  const { offset, currentPage } = getPaginator(location.search)\r\n  const apiUrl = getApiUrl({username, offset, isFavorites})\r\n  const [{ response, isLoading, error }, doFetch] = useFetch(apiUrl)\r\n\r\n  console.log('ua res:', response)\r\n\r\n  useEffect(() => {\r\n    doFetch()\r\n  }, [doFetch, isFavorites])\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      {isLoading && <Loading />}\r\n      {error && <ErrorBoundary />}\r\n      {!isLoading && response && (\r\n        <>\r\n          <Feed articles={response.articles} />\r\n          <Pagination\r\n            total={response.articlesCount}\r\n            limit={limit}\r\n            url={url}\r\n            currentPage={currentPage}\r\n          />\r\n        </>\r\n      )}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserArticles\r\n","import { useEffect } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\n\r\nimport useFetch from 'hooks/useFetch'\r\nimport UserArticles from 'components/UserArticles/UserArticles'\r\n\r\nconst UserProfile = ({ location, match }) => {\r\n  const slug = match.params.slug\r\n  const isFavorites = location.pathname.includes('favorites')\r\n  const apiUrl = `/profiles/${slug}`\r\n  const [{response}, doFetch] = useFetch(apiUrl)\r\n\r\n  useEffect(() => {\r\n    doFetch()\r\n  }, [])\r\n\r\n  if (!response) {\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"profile-page\">\r\n      <div className=\"user-info\">\r\n        <div className=\"container\">\r\n          <div className=\"row\">\r\n            <div className=\"col-xs-12 col-md-10 offset-md-1\">\r\n              <img className=\"user-img\" alt=\"\" src={response.profile.image} />\r\n              <h4>{response.profile.username}</h4>\r\n              <p>{response.profile.bio}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"row\">\r\n          <div className=\"col-xs-12 col-md-10 offset-md-1\">\r\n            <div className=\"articles-toggler\">\r\n              <ul className=\"nav nav-pills outline-active\">\r\n                <li className=\"nav-item\">\r\n                  <NavLink\r\n                    className=\"nav-link\"\r\n                    to={`/profiles/${response.profile.username}`}\r\n                    exact\r\n                  >\r\n                    My Posts\r\n                  </NavLink>\r\n                </li>\r\n\r\n                <li className=\"nav-item\">\r\n                  <NavLink\r\n                    className=\"nav-link\"\r\n                    to={`/profiles/${response.profile.username}/favorites`}\r\n                  >\r\n                    Favorites Posts\r\n                  </NavLink>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n            <UserArticles\r\n              username={response.profile.username}\r\n              location={location}\r\n              isFavorites={isFavorites}\r\n              url={match.url}\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UserProfile\r\n","import { useState, useEffect } from 'react'\r\n\r\nimport BackendErrorMessages from 'components/BackendErrorMessages/BackendErrorMessages'\r\n\r\nconst ArticleForm = ({ onSubmit, errors, initialValues }) => {\r\n  const [title, setTitle] = useState('')\r\n  const [description, setDescription] = useState('')\r\n  const [body, setBody] = useState('')\r\n  const [tagList, setTagList] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (!initialValues) {\r\n      return\r\n    }\r\n\r\n    setTitle(initialValues.title)\r\n    setDescription(initialValues.description)\r\n    setBody(initialValues.body)\r\n    setTagList(initialValues.tagList)\r\n  }, [initialValues])\r\n\r\n  const handleSubmit = event => {\r\n    event.preventDefault()\r\n    const article = {\r\n      title,\r\n      description,\r\n      body,\r\n      tagList\r\n    }\r\n    onSubmit(article)\r\n  }\r\n\r\n  return (\r\n    <div className=\"editor-page\">\r\n      <div className=\"container page\">\r\n        <div className=\"row\">\r\n          <div className=\"col-md-10 offset-md-1 col-xs-12\">\r\n            {errors && <BackendErrorMessages backendErrors={errors} />}\r\n            <form onSubmit={handleSubmit}>\r\n              <fieldset>\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control form-control-lg\"\r\n                    placeholder=\"Article title\"\r\n                    value={title}\r\n                    onChange={e => setTitle(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control form-control-lg\"\r\n                    placeholder=\"What is this article about?\"\r\n                    value={description}\r\n                    onChange={e => setDescription(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <textarea className=\"form-control\"\r\n                    rows=\"8\"\r\n                    placeholder=\"Write your article (in markdown)\"\r\n                    value={body}\r\n                    onChange={e => setBody(e.target.value)}\r\n                  >\r\n                  </textarea>\r\n                </fieldset>\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"form-control form-control-lg\"\r\n                    placeholder=\"Enter tags\"\r\n                    value={tagList}\r\n                    onChange={e => setTagList(e.target.value)}\r\n                  />\r\n                </fieldset>\r\n\r\n                <fieldset className=\"form-group\">\r\n                  <button type=\"submit\" className=\"btn btn-lg btn-primary pull-xs-right\">\r\n                    Publish Article\r\n                  </button>\r\n                </fieldset>\r\n\r\n              </fieldset>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ArticleForm\r\n","import { useEffect, useState, useContext } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport ArticleForm from 'components/ArticleForm/ArticleForm'\r\nimport useFetch from 'hooks/useFetch'\r\nimport { CurrentUserContext } from 'contexts/currentUser'\r\n\r\nconst CreateArticle = () => {\r\n  const [currentUserState] = useContext(CurrentUserContext)\r\n  const apiUrl = '/articles'\r\n  const [{ response, error }, doFetch] = useFetch(apiUrl)\r\n  const initialValues = {\r\n    title: '',\r\n    description: '',\r\n    body: '',\r\n    tagList: []\r\n  }\r\n  const [isSuccessSubmit, setIsSuccessSubmit] = useState(false)\r\n\r\n  const handleSubmit = article => {\r\n    doFetch({\r\n      method: 'post',\r\n      data: {\r\n        article\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (!response) {\r\n      return\r\n    }\r\n\r\n    setIsSuccessSubmit(true)\r\n  }, [response])\r\n\r\n  if (currentUserState.isLoggedIn === false) {\r\n    return <Redirect to=\"/\" />\r\n  }\r\n\r\n  if (isSuccessSubmit) {\r\n    return <Redirect to={`/articles/${response.article.slug}`} />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <ArticleForm\r\n        onSubmit={handleSubmit}\r\n        initialValues={initialValues}\r\n        errors={(error && error.errors) || {}}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CreateArticle\r\n","import { useEffect, useState, useContext } from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\n\r\nimport ArticleForm from 'components/ArticleForm/ArticleForm'\r\nimport useFetch from 'hooks/useFetch'\r\nimport { CurrentUserContext } from 'contexts/currentUser'\r\n\r\nconst EditArticle = ({ match }) => {\r\n  const slug = match.params.slug\r\n  const apiUrl = `/articles/${slug}`\r\n  const [{ response: fetchArticleResponse }, doFetchArticle] = useFetch(apiUrl)\r\n  const [{ response: updateArticleResponse, error: updateArticleError }, doUpdateArticle] = useFetch(apiUrl)\r\n  const [initialValues, setInitialValues] = useState(null)\r\n  const [isSuccessSubmit, setIsSuccessSubmit] = useState(false)\r\n  const [currentUserState] = useContext(CurrentUserContext)\r\n\r\n  console.log(currentUserState)\r\n\r\n  const handleSubmit = article => {\r\n    console.log('ha sub article', article)\r\n    doUpdateArticle({\r\n      method: 'put',\r\n      data: {\r\n        article\r\n      }\r\n    })\r\n  }\r\n\r\n  useEffect(() => {\r\n    doFetchArticle()\r\n  }, [doFetchArticle])\r\n\r\n  useEffect(() => {\r\n    if (!fetchArticleResponse) {\r\n      return\r\n    }\r\n\r\n    const { article: { title, description, body, tagList } } = fetchArticleResponse\r\n\r\n    setInitialValues({\r\n      title,\r\n      description,\r\n      body,\r\n      tagList\r\n    })\r\n  }, [fetchArticleResponse])\r\n\r\n  useEffect(() => {\r\n    if (!updateArticleResponse) {\r\n      return\r\n    }\r\n\r\n    setIsSuccessSubmit(true)\r\n  }, [updateArticleResponse])\r\n\r\n  if (currentUserState.isLoggedIn === false) {\r\n    return <Redirect to=\"/\" />\r\n  }\r\n\r\n  if (isSuccessSubmit) {\r\n    return <Redirect to={`/articles/${slug}`} />\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div>Edit Article...</div>\r\n      <ArticleForm\r\n        onSubmit={handleSubmit}\r\n        errors={(updateArticleError && updateArticleError.errors) || {}}\r\n        initialValues={initialValues}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default EditArticle\r\n","import { Switch, Route } from 'react-router-dom'\r\n\r\nimport Article from 'pages/Article/Article'\r\nimport GlobalFeed from 'pages/GlobalFeed/GlobalFeed'\r\nimport TagFeed from 'pages/TagFeed/TagFeed'\r\nimport YourFeed from 'pages/YourFeed/YourFeed'\r\nimport Auth from 'pages/Auth/Auth'\r\nimport Settings from 'pages/Settings/Settings'\r\nimport UserProfile from 'pages/UserProfile/UserProfile'\r\nimport CreateArticle from 'pages/CreateArticle/CreateArticle'\r\nimport EditArticle from 'pages/EditArticle/EditArticle'\r\n\r\nconst Routes = () => {\r\n  return (\r\n    <Switch>\r\n      <Route path=\"/\" exact component={GlobalFeed} />\r\n      <Route path=\"/feed\" component={YourFeed} />\r\n      <Route path=\"/tags/:slug\" component={TagFeed} />\r\n      <Route path=\"/login\" component={Auth} />\r\n      <Route path=\"/register\" component={Auth} />\r\n      <Route path=\"/settings\" component={Settings} />\r\n      <Route path=\"/profiles/:slug\" exact component={UserProfile} />\r\n      <Route path=\"/profiles/:slug/favorites\" component={UserProfile} />\r\n      <Route path=\"/articles/new\" component={CreateArticle} />\r\n      <Route path=\"/articles/:slug/edit\" component={EditArticle} />\r\n      <Route path=\"/articles/:slug\" component={Article} />\r\n    </Switch>\r\n  )\r\n}\r\n\r\nexport default Routes","import { useContext } from 'react'\r\nimport { Link, NavLink } from 'react-router-dom'\r\n\r\nimport { CurrentUserContext } from 'contexts/currentUser'\r\n\r\nconst TopBar = () => {\r\n  const [currentUserState] = useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <nav className=\"navbar navbar-light\">\r\n      <div className=\"container\">\r\n        <Link to=\"/\" className=\"navbar-brand\">\r\n          conduit\r\n        </Link>\r\n\r\n        <ul className=\"nav navbar-nav pull-xs-right\">\r\n          <li className=\"nav-item\">\r\n            <NavLink to=\"/\" exact className=\"nav-link\">\r\n              Home\r\n            </NavLink>\r\n          </li>\r\n\r\n          {currentUserState.isLoggedIn === false && (\r\n            <>\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/login\" className=\"nav-link\">\r\n                  Sign in\r\n                </NavLink>\r\n              </li>\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/register\" className=\"nav-link\">\r\n                  Sign up\r\n                </NavLink>\r\n              </li>\r\n            </>\r\n          )}\r\n          {currentUserState.isLoggedIn && (\r\n            <>\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/articles/new\" className=\"nav-link\">\r\n                  <i className=\"ion-compose\"></i>\r\n                  &nbsp; New Post\r\n                </NavLink>\r\n              </li>\r\n\r\n              <li className=\"nav-item\">\r\n                <NavLink to=\"/settings\" className=\"nav-link\">\r\n                  <i className=\"ion-gear-a\"></i>\r\n                  &nbsp; Settings\r\n                </NavLink>\r\n              </li>\r\n              \r\n              <li className=\"nav-item\">\r\n                <NavLink to={`/profiles/${currentUserState.currentUser.username}`} className=\"nav-link\">\r\n                  <img className=\"user-pic\" alt=\"\"\r\n                    src={currentUserState.currentUser.image}\r\n                  />\r\n                  &nbsp; {currentUserState.currentUser.username}\r\n                </NavLink>\r\n              </li>\r\n            </>\r\n          )}\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default TopBar\r\n","import { useContext, useEffect } from 'react'\r\n\r\nimport useFetch from 'hooks/useFetch'\r\nimport { CurrentUserContext } from 'contexts/currentUser'\r\nimport useLocalStorage from 'hooks/useLocalStorage'\r\n\r\nconst CurrentUserChecker = ({ children }) => {\r\n  const [{ response }, doFetch] = useFetch('/user')\r\n  const [CurrentUserState, dispatch] = useContext(CurrentUserContext)\r\n  const [token] = useLocalStorage('token')\r\n  \r\n  useEffect(() => {\r\n    if (!token) {\r\n      dispatch({type: 'SET_UNAUTHORIZED'})\r\n      return\r\n    }\r\n\r\n    doFetch()\r\n    dispatch({type: 'LOADING'})\r\n  }, [token, dispatch, doFetch])\r\n\r\n  useEffect(() => {\r\n    if (!response) {\r\n      return\r\n    }\r\n\r\n    dispatch({\r\n      type: 'SET_AUTHORIZED',\r\n      payload: response.user\r\n    })\r\n  }, [response, dispatch])\r\n\r\n  return children\r\n}\r\n\r\nexport default CurrentUserChecker\r\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport Routes from 'Routes/Routes'\nimport TopBar from 'components/TopBar/TopBar'\nimport { CurrentUserProvider } from 'contexts/currentUser'\nimport CurrentUserChecker from 'components/CurrentUserChecker/CurrentUserChecker'\n\nconst App = () => {\n  return (\n    <CurrentUserProvider>\n      <CurrentUserChecker>\n        <Router>\n          <TopBar />\n          <Routes />\n        </Router>\n      </CurrentUserChecker>\n    </CurrentUserProvider>\n  )\n}\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}