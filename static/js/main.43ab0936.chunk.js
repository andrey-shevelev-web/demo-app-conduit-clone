(this["webpackJsonpdemo-app-conduit-clone"]=this["webpackJsonpdemo-app-conduit-clone"]||[]).push([[0],{75:function(e,t,c){"use strict";c.r(t);var s=c(0),a=c(1),r=c(32),n=c.n(r),i=c(3),l=c(4),o=c(2),j=c(6),b=c(33),u=c.n(b),d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=Object(a.useState)((function(){return localStorage.getItem(e)||t})),s=Object(o.a)(c,2),r=s[0],n=s[1];return Object(a.useEffect)((function(){localStorage.setItem(e,r)}),[r,e]),[r,n]},O=function(e){var t=Object(a.useState)(!1),c=Object(o.a)(t,2),s=c[0],r=c[1],n=Object(a.useState)(null),i=Object(o.a)(n,2),l=i[0],b=i[1],O=Object(a.useState)(null),m=Object(o.a)(O,2),x=m[0],h=m[1],f=Object(a.useState)({}),p=Object(o.a)(f,2),g=p[0],v=p[1],N=d("token"),y=Object(o.a)(N,1)[0],S=Object(a.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};v(e),r(!0)}),[]);return Object(a.useEffect)((function(){var t=!1,c=Object(j.a)(Object(j.a)({},g),{headers:{authorization:y?"Token ".concat(y):""}});if(s)return u()("".concat("https://conduit.productionready.io/api").concat(e),c).then((function(e){t||(r(!1),b(e.data))})).catch((function(e){t||(r(!1),h(e.response.data))})),function(){t=!0}}),[s,g,e,y]),[{isLoading:s,response:l,error:x},S]},m=function(){return Object(s.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})},x=function(){return Object(s.jsx)("div",{children:"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a..."})},h=function(e){var t=e.tags;return Object(s.jsx)("ul",{className:"tag-list",children:t.map((function(e){return Object(s.jsx)("li",{className:"tag-default tag-pill tag-outline",children:e},e)}))})},f={isLoading:!1,isLoggedIn:null,currentUser:null},p=function(e,t){switch(t.type){case"LOADING":return Object(j.a)(Object(j.a)({},e),{},{isLoading:!0});case"SET_AUTHORIZED":return Object(j.a)(Object(j.a)({},e),{},{isLoggedIn:!0,currentUser:t.payload,isLoading:!1});case"SET_UNAUTHORIZED":return Object(j.a)(Object(j.a)({},e),{},{isLoggedIn:!1});case"LOGOUT":return Object(j.a)(Object(j.a)({},f),{},{isLoggedIn:!1});default:return e}},g=Object(a.createContext)(),v=function(e){var t=e.children,c=Object(a.useReducer)(p,f);return Object(s.jsx)(g.Provider,{value:c,children:t})},N=function(e){var t=e.match.params.slug,c="/articles/".concat(t),r=O(c),n=Object(o.a)(r,2),j=n[0],b=j.response,u=j.isLoading,d=j.error,f=n[1],p=O(c),v=Object(o.a)(p,2),N=v[0].response,y=v[1],S=Object(a.useContext)(g),E=Object(o.a)(S,1)[0],k=Object(a.useState)(!1),C=Object(o.a)(k,2),L=C[0],w=C[1];Object(a.useEffect)((function(){f()}),[f]);return Object(a.useEffect)((function(){N&&w(!0)}),[N]),L?Object(s.jsx)(l.a,{to:"/"}):Object(s.jsxs)("div",{className:"article-page",children:[Object(s.jsx)("div",{className:"banner",children:!u&&b&&Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{children:b.article.title}),Object(s.jsxs)("div",{className:"article-meta",children:[Object(s.jsx)(i.b,{to:"/profiles/".concat(b.article.author.username),children:Object(s.jsx)("img",{src:b.article.author.image,alt:""})}),Object(s.jsxs)("div",{className:"info",children:[Object(s.jsx)(i.b,{to:"/profiles/".concat(b.article.author.username),children:b.article.author.username}),Object(s.jsx)("span",{className:"date",children:b.article.createdAt})]}),!(!b||!E.isLoggedIn)&&b.article.author.username===E.currentUser.username&&Object(s.jsxs)("span",{children:[Object(s.jsxs)(i.b,{className:"btn btn-outline-secondary btn-sm",to:"/articles/".concat(b.article.slug,"/edit"),children:[Object(s.jsx)("i",{className:"ion-edit"}),"Edit Article"]}),Object(s.jsxs)("button",{className:"btn btn-outline-danger btn-sm",onClick:function(){y({method:"delete"})},children:[Object(s.jsx)("i",{className:"ion-trash-a"}),"Delete Article"]})]})]})]})}),Object(s.jsxs)("div",{className:"container page",children:[u&&Object(s.jsx)(m,{}),d&&Object(s.jsx)(x,{}),!u&&b&&Object(s.jsx)("div",{className:"row article-content",children:Object(s.jsxs)("div",{className:"col-xs-12",children:[Object(s.jsx)("div",{children:Object(s.jsx)("p",{children:b.article.body})}),Object(s.jsx)(h,{tags:b.article.tagList})]})})]})]})},y=c(11),S=c(16),E=c.n(S),k=function(e){var t=e.isFavorited,c=e.favoritesCount,a=e.articleSlug,r="/articles/".concat(a,"/favorite"),n=O(r),i=Object(o.a)(n,2),l=i[0].response,j=i[1],b=l?l.article.favoritesCount:c,u=l?l.article.favorited:t,d=E()({btn:!0,"btn-sm":!0,"btn-primary":u,"btn-outline-primary":!u});return Object(s.jsxs)("button",{className:d,onClick:function(e){e.preventDefault(),j({method:u?"delete":"post"})},children:[Object(s.jsx)("i",{className:"ion-heart"}),Object(s.jsxs)("span",{children:["\xa0 ",b]})]})},C=function(e){var t=e.articles;return Object(s.jsx)("div",{children:t.map((function(e,t){return Object(s.jsxs)("div",{className:"article-preview",children:[Object(s.jsxs)("div",{className:"article-meta",children:[Object(s.jsx)(i.b,{to:"/profiles/".concat(e.author.username),children:Object(s.jsx)("img",{src:e.author.image,alt:""})}),Object(s.jsxs)("div",{className:"info",children:[Object(s.jsx)(i.b,{className:"author",to:"/profiles/".concat(e.author.username),children:e.author.username}),Object(s.jsx)("span",{className:"date",children:e.createdAt})]}),Object(s.jsx)("div",{className:"pull-xs-right",children:Object(s.jsx)(k,{isFavorited:e.favorited,favoritesCount:e.favoritesCount,articleSlug:e.slug})})]}),Object(s.jsxs)(i.b,{className:"preview-link",to:"/articles/".concat(e.slug),children:[Object(s.jsx)("h1",{children:e.title}),Object(s.jsx)("p",{children:e.description}),Object(s.jsx)("span",{children:"Read more..."}),Object(s.jsx)(h,{tags:e.tagList})]})]},t)}))})},L=c(35),w=10,U=function(e){var t=Object(y.parse)(e),c=t.page?Number(t.page):1;return{currentPage:c,offset:c*w-w}},I=function(e){var t=e.page,c=e.currentPage,a=e.url,r=E()({"page-item":!0,active:c===t});return Object(s.jsx)("li",{className:r,children:Object(s.jsx)(i.b,{className:"page-link",to:"".concat(a,"?page=").concat(t),children:t})})},A=function(e){var t,c,a=e.total,r=e.limit,n=e.url,i=e.currentPage,l=Math.ceil(a/r),o=(t=1,c=l,Object(L.a)(Array(c).keys()).map((function(e){return e+t})));return Object(s.jsx)("ul",{className:"pagination",children:o.map((function(e){return Object(s.jsx)(I,{page:e,currentPage:i,url:n},e)}))})},P=function(){var e=O("/tags"),t=Object(o.a)(e,2),c=t[0],r=c.response,n=c.isLoading,l=c.error,j=t[1];return Object(a.useEffect)((function(){j()}),[j]),n||!r?Object(s.jsx)(m,{}):l?Object(s.jsx)(x,{}):Object(s.jsxs)("div",{className:"sidebar",children:[Object(s.jsx)("p",{children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u044b\u0435 \u0442\u0435\u0433\u0438"}),Object(s.jsx)("div",{className:"tag-list",children:r.tags.map((function(e){return Object(s.jsx)(i.b,{className:"tag-default tag-pill",to:"/tags/".concat(e),children:e},e)}))})]})},T=function(e){var t=e.tagName,c=Object(a.useContext)(g),r=Object(o.a)(c,1)[0];return Object(s.jsx)("div",{className:"feed-toggle",children:Object(s.jsxs)("ul",{className:"nav nav-pills outline-active",children:[r.isLoggedIn&&Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(i.c,{to:"/feed",className:"nav-link",children:"Your feed"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(i.c,{to:"/",exact:!0,className:"nav-link",children:"Global feed"})}),t&&Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(i.c,{to:"/tags/".concat(t),className:"nav-link",children:[Object(s.jsx)("i",{className:"ion-pound"}),t]})})]})})},D=function(e){var t=e.location,c=e.match,r=U(t.search),n=r.currentPage,i=r.offset,l=Object(y.stringify)({limit:w,offset:i}),j="/articles?".concat(l),b=O(j),u=Object(o.a)(b,2),d=u[0],h=d.response,f=d.isLoading,p=d.error,g=u[1],v=c.url;return Object(a.useEffect)((function(){g()}),[g,n]),Object(s.jsxs)("div",{className:"home-page",children:[Object(s.jsx)("div",{className:"banner",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{children:"conduit clone"}),Object(s.jsx)("p",{children:"A place to share knowledge"})]})}),Object(s.jsx)("div",{className:"container page",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-9",children:[Object(s.jsx)(T,{}),f&&Object(s.jsx)(m,{}),p&&Object(s.jsx)(x,{}),!f&&h&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{articles:h.articles}),Object(s.jsx)(A,{total:h.articlesCount,limit:w,url:v,currentPage:n})]})]}),Object(s.jsx)("div",{className:"col-md-3",children:Object(s.jsx)(P,{})})]})})]})},F=function(e){var t=e.location,c=e.match,r=c.params.slug,n=U(t.search),i=n.currentPage,l=n.offset,j=Object(y.stringify)({limit:w,offset:l,tag:r}),b="/articles?".concat(j),u=O(b),d=Object(o.a)(u,2),h=d[0],f=h.response,p=h.isLoading,g=h.error,v=d[1],N=c.url;return Object(a.useEffect)((function(){v()}),[v,i,r]),Object(s.jsxs)("div",{className:"home-page",children:[Object(s.jsx)("div",{className:"banner",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{children:"Medium clone"}),Object(s.jsx)("p",{children:"A place to share knowledge"})]})}),Object(s.jsx)("div",{className:"container page",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-9",children:[Object(s.jsx)(T,{tagName:r}),p&&Object(s.jsx)(m,{}),g&&Object(s.jsx)(x,{}),!p&&f&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{articles:f.articles}),Object(s.jsx)(A,{total:f.articlesCount,limit:w,url:N,currentPage:i})]})]}),Object(s.jsx)("div",{className:"col-md-3",children:Object(s.jsx)(P,{})})]})})]})},R=function(e){var t=e.location,c=e.match,r=U(t.search),n=r.currentPage,i=r.offset,l=Object(y.stringify)({limit:w,offset:i}),j="/articles/feed?".concat(l),b=O(j),u=Object(o.a)(b,2),d=u[0],h=d.response,f=d.isLoading,p=d.error,g=u[1],v=c.url;return Object(a.useEffect)((function(){g()}),[g,n]),Object(s.jsxs)("div",{className:"home-page",children:[Object(s.jsx)("div",{className:"banner",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)("h1",{children:"Medium clone"}),Object(s.jsx)("p",{children:"A place to share knowledge"})]})}),Object(s.jsx)("div",{className:"container page",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-md-9",children:[Object(s.jsx)(T,{}),f&&Object(s.jsx)(m,{}),p&&Object(s.jsx)(x,{}),!f&&h&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{articles:h.articles}),Object(s.jsx)(A,{total:h.articlesCount,limit:w,url:v,currentPage:n})]})]}),Object(s.jsx)("div",{className:"col-md-3",children:Object(s.jsx)(P,{})})]})})]})},H=function(e){var t=e.backendErrors,c=Object.keys(t).map((function(e){var c=t[e].join(" ");return"".concat(e," ").concat(c)}));return Object(s.jsx)("ul",{className:"error-messages",children:c.map((function(e){return Object(s.jsx)("li",{children:e},e)}))})},Z=function(e){var t="/login"===e.match.path,c=t?"Sign in":"Sign up",r=t?"/register":"/login",n=t?"Need an account?":"Have an account?",j=t?"/users/login":"/users",b=Object(a.useState)(""),u=Object(o.a)(b,2),m=u[0],x=u[1],h=Object(a.useState)(""),f=Object(o.a)(h,2),p=f[0],v=f[1],N=Object(a.useState)(""),y=Object(o.a)(N,2),S=y[0],E=y[1],k=Object(a.useState)(!1),C=Object(o.a)(k,2),L=C[0],w=C[1],U=O(j),I=Object(o.a)(U,2),A=I[0],P=A.isLoading,T=A.response,D=A.error,F=I[1],R=d("token"),Z=Object(o.a)(R,2)[1],_=Object(a.useContext)(g),G=Object(o.a)(_,2)[1];Object(a.useEffect)((function(){T&&(Z(T.user.token),w(!0),G({type:"SET_AUTHORIZED",payload:T.user}))}),[T,Z,G,F]);return L?Object(s.jsx)(l.a,{to:"/"}):Object(s.jsx)("div",{className:"auth-page",children:Object(s.jsx)("div",{className:"container page",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(s.jsx)("h1",{className:"text-xs-center",children:c}),Object(s.jsx)("p",{className:"text-xs-center",children:Object(s.jsx)(i.b,{to:r,children:n})}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),F({method:"post",data:{user:t?{email:m,password:p}:{username:S,email:m,password:p}}})},children:[D&&Object(s.jsx)(H,{backendErrors:D.errors}),Object(s.jsxs)("fieldset",{children:[!t&&Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",value:S,onChange:function(e){return E(e.target.value)}})}),Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("input",{type:"email",className:"form-control form-control-lg",placeholder:"Email",value:m,onChange:function(e){return x(e.target.value)}})}),Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"Password",value:p,onChange:function(e){return v(e.target.value)}})}),Object(s.jsx)("button",{className:"btn btn-lg btn-primary pull-xs-right",type:"submit",disabled:P,children:c})]})]})]})})})})},_=function(){var e=Object(a.useContext)(g),t=Object(o.a)(e,2),c=t[0],r=t[1],n=O("/user"),i=Object(o.a)(n,2),b=i[0],u=b.response,m=b.error,x=i[1],h=Object(a.useState)(""),f=Object(o.a)(h,2),p=f[0],v=f[1],N=Object(a.useState)(""),y=Object(o.a)(N,2),S=y[0],E=y[1],k=Object(a.useState)(""),C=Object(o.a)(k,2),L=C[0],w=C[1],U=Object(a.useState)(""),I=Object(o.a)(U,2),A=I[0],P=I[1],T=Object(a.useState)(""),D=Object(o.a)(T,2),F=D[0],R=D[1],Z=d("token"),_=Object(o.a)(Z,2)[1],G=Object(a.useState)(!1),M=Object(o.a)(G,2),V=M[0],J=M[1];return Object(a.useEffect)((function(){if(c.currentUser){var e=c.currentUser,t=e.image,s=e.username,a=e.bio,r=e.email;e.password;v(t),E(s),w(a),P(r)}}),[c.currentUser]),Object(a.useEffect)((function(){u&&r({type:"SET_AUTHORIZED",payload:u.user})}),[u,r]),V?Object(s.jsx)(l.a,{to:"/"}):Object(s.jsx)("div",{className:"settings-page",children:Object(s.jsx)("div",{className:"container page",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-md-6 offset-md-3 col-xs-12",children:[Object(s.jsx)("h1",{className:"text-xs-center",children:"Your settings"}),m&&Object(s.jsx)(H,{backendErrors:m.errors}),Object(s.jsx)("form",{onSubmit:function(e){e.preventDefault(),x({method:"put",data:Object(j.a)(Object(j.a)({},c.currentUser),{},{image:p,username:S,bio:L,email:A,password:F})})},children:Object(s.jsxs)("fieldset",{children:[Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"URL of profile picture",value:p,onChange:function(e){return v(e.target.value)}})}),Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Username",value:S,onChange:function(e){return E(e.target.value)}})}),Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("textarea",{className:"form-control form-control-lg",rows:"8",placeholder:"Short bio about you",value:L,onChange:function(e){return w(e.target.value)}})}),Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Email",value:A,onChange:function(e){return P(e.target.value)}})}),Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("input",{type:"password",className:"form-control form-control-lg",placeholder:"New Password",value:F,onChange:function(e){return R(e.target.value)}})}),Object(s.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary pull-xs-right",children:"Update Settings"})]})}),Object(s.jsx)("hr",{}),Object(s.jsx)("button",{type:"submit",className:"btn btn-outline-danger",onClick:function(e){e.preventDefault(),_(""),r({type:"LOGOUT"}),J(!0)},children:"Or click here to logout"})]})})})})},G=function(e){var t=e.username,c=e.location,r=e.isFavorites,n=e.url,i=U(c.search),l=i.offset,j=i.currentPage,b=function(e){var t=e.username,c=e.offset,s=e.isFavorites?{limit:w,offset:c,favorited:t}:{limit:w,offset:c,author:t};return"/articles?".concat(Object(y.stringify)(s))}({username:t,offset:l,isFavorites:r}),u=O(b),d=Object(o.a)(u,2),h=d[0],f=h.response,p=h.isLoading,g=h.error,v=d[1];return console.log("ua res:",f),Object(a.useEffect)((function(){v()}),[v,r]),Object(s.jsxs)("div",{className:"container",children:[p&&Object(s.jsx)(m,{}),g&&Object(s.jsx)(x,{}),!p&&f&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{articles:f.articles}),Object(s.jsx)(A,{total:f.articlesCount,limit:w,url:n,currentPage:j})]})]})},M=function(e){var t=e.location,c=e.match,r=c.params.slug,n=t.pathname.includes("favorites"),l="/profiles/".concat(r),j=O(l),b=Object(o.a)(j,2),u=b[0].response,d=b[1];return Object(a.useEffect)((function(){d()}),[]),u?Object(s.jsxs)("div",{className:"profile-page",children:[Object(s.jsx)("div",{className:"user-info",children:Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(s.jsx)("img",{className:"user-img",alt:"",src:u.profile.image}),Object(s.jsx)("h4",{children:u.profile.username}),Object(s.jsx)("p",{children:u.profile.bio})]})})})}),Object(s.jsx)("div",{className:"container",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-xs-12 col-md-10 offset-md-1",children:[Object(s.jsx)("div",{className:"articles-toggler",children:Object(s.jsxs)("ul",{className:"nav nav-pills outline-active",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(i.c,{className:"nav-link",to:"/profiles/".concat(u.profile.username),exact:!0,children:"My Posts"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(i.c,{className:"nav-link",to:"/profiles/".concat(u.profile.username,"/favorites"),children:"Favorites Posts"})})]})}),Object(s.jsx)(G,{username:u.profile.username,location:t,isFavorites:n,url:c.url})]})})})]}):null},V=function(e){var t=e.onSubmit,c=e.errors,r=e.initialValues,n=Object(a.useState)(""),i=Object(o.a)(n,2),l=i[0],j=i[1],b=Object(a.useState)(""),u=Object(o.a)(b,2),d=u[0],O=u[1],m=Object(a.useState)(""),x=Object(o.a)(m,2),h=x[0],f=x[1],p=Object(a.useState)(""),g=Object(o.a)(p,2),v=g[0],N=g[1];Object(a.useEffect)((function(){r&&(j(r.title),O(r.description),f(r.body),N(r.tagList))}),[r]);return Object(s.jsx)("div",{className:"editor-page",children:Object(s.jsx)("div",{className:"container page",children:Object(s.jsx)("div",{className:"row",children:Object(s.jsxs)("div",{className:"col-md-10 offset-md-1 col-xs-12",children:[c&&Object(s.jsx)(H,{backendErrors:c}),Object(s.jsx)("form",{onSubmit:function(e){e.preventDefault(),t({title:l,description:d,body:h,tagList:v})},children:Object(s.jsxs)("fieldset",{children:[Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Article title",value:l,onChange:function(e){return j(e.target.value)}})}),Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"What is this article about?",value:d,onChange:function(e){return O(e.target.value)}})}),Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("textarea",{className:"form-control",rows:"8",placeholder:"Write your article (in markdown)",value:h,onChange:function(e){return f(e.target.value)}})}),Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control form-control-lg",placeholder:"Enter tags",value:v,onChange:function(e){return N(e.target.value)}})}),Object(s.jsx)("fieldset",{className:"form-group",children:Object(s.jsx)("button",{type:"submit",className:"btn btn-lg btn-primary pull-xs-right",children:"Publish Article"})})]})})]})})})})},J=function(){var e=Object(a.useContext)(g),t=Object(o.a)(e,1)[0],c=O("/articles"),r=Object(o.a)(c,2),n=r[0],i=n.response,j=n.error,b=r[1],u=Object(a.useState)(!1),d=Object(o.a)(u,2),m=d[0],x=d[1];return Object(a.useEffect)((function(){i&&x(!0)}),[i]),!1===t.isLoggedIn?Object(s.jsx)(l.a,{to:"/"}):m?Object(s.jsx)(l.a,{to:"/articles/".concat(i.article.slug)}):Object(s.jsx)("div",{children:Object(s.jsx)(V,{onSubmit:function(e){b({method:"post",data:{article:e}})},initialValues:{title:"",description:"",body:"",tagList:[]},errors:j&&j.errors||{}})})},W=function(e){var t=e.match.params.slug,c="/articles/".concat(t),r=O(c),n=Object(o.a)(r,2),i=n[0].response,j=n[1],b=O(c),u=Object(o.a)(b,2),d=u[0],m=d.response,x=d.error,h=u[1],f=Object(a.useState)(null),p=Object(o.a)(f,2),v=p[0],N=p[1],y=Object(a.useState)(!1),S=Object(o.a)(y,2),E=S[0],k=S[1],C=Object(a.useContext)(g),L=Object(o.a)(C,1)[0];console.log(L);return Object(a.useEffect)((function(){j()}),[j]),Object(a.useEffect)((function(){if(i){var e=i.article,t=e.title,c=e.description,s=e.body,a=e.tagList;N({title:t,description:c,body:s,tagList:a})}}),[i]),Object(a.useEffect)((function(){m&&k(!0)}),[m]),!1===L.isLoggedIn?Object(s.jsx)(l.a,{to:"/"}):E?Object(s.jsx)(l.a,{to:"/articles/".concat(t)}):Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:"Edit Article..."}),Object(s.jsx)(V,{onSubmit:function(e){console.log("ha sub article",e),h({method:"put",data:{article:e}})},errors:x&&x.errors||{},initialValues:v})]})},Y=function(){return Object(s.jsxs)(l.d,{children:[Object(s.jsx)(l.b,{path:"/",exact:!0,component:D}),Object(s.jsx)(l.b,{path:"/feed",component:R}),Object(s.jsx)(l.b,{path:"/tags/:slug",component:F}),Object(s.jsx)(l.b,{path:"/login",component:Z}),Object(s.jsx)(l.b,{path:"/register",component:Z}),Object(s.jsx)(l.b,{path:"/settings",component:_}),Object(s.jsx)(l.b,{path:"/profiles/:slug",exact:!0,component:M}),Object(s.jsx)(l.b,{path:"/profiles/:slug/favorites",component:M}),Object(s.jsx)(l.b,{path:"/articles/new",component:J}),Object(s.jsx)(l.b,{path:"/articles/:slug/edit",component:W}),Object(s.jsx)(l.b,{path:"/articles/:slug",component:N})]})},z=function(){var e=Object(a.useContext)(g),t=Object(o.a)(e,1)[0];return Object(s.jsx)("nav",{className:"navbar navbar-light",children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(i.b,{to:"/",className:"navbar-brand",children:"conduit"}),Object(s.jsxs)("ul",{className:"nav navbar-nav pull-xs-right",children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(i.c,{to:"/",exact:!0,className:"nav-link",children:"Home"})}),!1===t.isLoggedIn&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(i.c,{to:"/login",className:"nav-link",children:"Sign in"})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsx)(i.c,{to:"/register",className:"nav-link",children:"Sign up"})})]}),t.isLoggedIn&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(i.c,{to:"/articles/new",className:"nav-link",children:[Object(s.jsx)("i",{className:"ion-compose"}),"\xa0 New Post"]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(i.c,{to:"/settings",className:"nav-link",children:[Object(s.jsx)("i",{className:"ion-gear-a"}),"\xa0 Settings"]})}),Object(s.jsx)("li",{className:"nav-item",children:Object(s.jsxs)(i.c,{to:"/profiles/".concat(t.currentUser.username),className:"nav-link",children:[Object(s.jsx)("img",{className:"user-pic",alt:"",src:t.currentUser.image}),"\xa0 ",t.currentUser.username]})})]})]})]})})},B=function(e){var t=e.children,c=O("/user"),s=Object(o.a)(c,2),r=s[0].response,n=s[1],i=Object(a.useContext)(g),l=Object(o.a)(i,2),j=(l[0],l[1]),b=d("token"),u=Object(o.a)(b,1)[0];return Object(a.useEffect)((function(){u?(n(),j({type:"LOADING"})):j({type:"SET_UNAUTHORIZED"})}),[u,j,n]),Object(a.useEffect)((function(){r&&j({type:"SET_AUTHORIZED",payload:r.user})}),[r,j]),t},q=function(){return Object(s.jsx)(v,{children:Object(s.jsx)(B,{children:Object(s.jsxs)(i.a,{children:[Object(s.jsx)(z,{}),Object(s.jsx)(Y,{})]})})})};n.a.render(Object(s.jsx)(q,{}),document.getElementById("root"))}},[[75,1,2]]]);
//# sourceMappingURL=main.43ab0936.chunk.js.map